overlay: 1.1.0
x-speakeasy-jsonpath: rfc9535
info:
  title: Terraform generation overlay for planetscale_password managed and data resources.
  version: 0.0.1
actions:
  - target: $.paths["/organizations/{organization}/databases/{database}/branches/{branch}/passwords"].post
    description: API operation for managed resource create.
    update:
      x-speakeasy-entity-operation: VitessBranchPassword#create
      x-speakeasy-entity-description: Manage a PlanetScale database branch password.
  - target: $.paths["/organizations/{organization}/databases/{database}/branches/{branch}/passwords/{id}"].delete
    description: API operation for managed resource delete.
    update:
      x-speakeasy-entity-operation: VitessBranchPassword#delete
  - target: $.paths["/organizations/{organization}/databases/{database}/branches/{branch}/passwords/{id}"].get
    description: API operation for data and managed resource read.
    update:
      x-speakeasy-entity-operation: VitessBranchPassword#read
      x-speakeasy-entity-description: Returns information about a PlanetScale database branch password.
  - target: $.paths["/organizations/{organization}/databases/{database}/branches/{branch}/passwords/{id}"].patch
    description: API operation for managed resource update.
    update:
      x-speakeasy-entity-operation: VitessBranchPassword#update

  - target: $.paths["/organizations/{organization}/databases/{database}/branches/{branch}/passwords"].post.responses["201"].content["application/json"].schema.properties
    description: Mark sensitive property
    update:
      plain_text:
        x-speakeasy-param-sensitive: true

  # `plain_text` is only returned on create, so ensure reads do not overwrite it
  - target: $.paths["/organizations/{organization}/databases/{database}/branches/{branch}/passwords/{id}"].get.responses["200"].content["application/json"].schema
    description: Mark sensitive property and ensure reads do not overwrite it
    update:
      plain_text:
        x-speakeasy-param-sensitive: true
        x-speakeasy-ignore: true

  - target: $.paths["/organizations/{organization}/databases/{database}/branches/{branch}/passwords/{id}"].patch.responses["200"].content["application/json"].schema
    description: Mark sensitive property and ensure reads do not overwrite it
    update:
      plain_text:
        x-speakeasy-param-sensitive: true
        x-speakeasy-ignore: true
