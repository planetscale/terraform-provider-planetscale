overlay: 1.0.0
x-speakeasy-jsonpath: rfc9535
info:
  title: Terraform generation overlay for planetscale_database_default_branch managed resource.
  version: 0.0.1
actions:
  - target: $.paths
    description: Add duplicate API operations for targeted managed resource.
    update:
      /organizations/{organization}/databases/{database}#default-branch:
        get:
          tags:
            - Databases
          operationId: get_database_default_branch
          summary: Get database default branch
          parameters:
            - name: organization
              in: path
              required: true
              description: The name of the organization the database belongs to
              schema:
                type: string
            - name: database
              in: path
              required: true
              description: The name of the database
              schema:
                type: string
          responses:
            "200":
              description: Returns a database
              headers: {}
              content:
                application/json:
                  schema:
                    type: object
                    properties:
                      default_branch:
                        type: string
                        description: The default branch of the database
                        x-speakeasy-name-override: branch
            "401":
              description: Unauthorized
            "403":
              description: Forbidden
            "404":
              description: Not Found
            "500":
              description: Internal Server Error
          description: |-
            ### Authorization
            A service token or OAuth token must have at least one of the following access or scopes in order to use this API endpoint:

            **Service Token Accesses**
            `read_database`, `delete_database`, `write_database`, `read_branch`, `delete_branch`, `create_branch`, `create_production_branch`, `delete_production_branch`, `connect_branch`, `connect_production_branch`, `delete_branch_password`, `delete_production_branch_password`, `read_deploy_request`, `create_deploy_request`, `approve_deploy_request`, `read_schema_recommendations`, `close_schema_recommendations`, `read_comment`, `create_comment`, `restore_backup`, `restore_production_branch_backup`, `read_backups`, `write_backups`, `delete_backups`, `delete_production_branch_backups`, `write_branch_vschema`, `write_production_branch_vschema`

            **OAuth Scopes**

            | Resource | Scopes |
            | :------- | :---------- |
            | Organization | `read_databases` |
            | Database | `read_database` |
          x-speakeasy-entity-operation: DatabaseDefaultBranch#read
        patch:
          tags:
            - Databases
          operationId: update_database_default_branch
          summary: Update database default branch
          parameters:
            - name: organization
              in: path
              required: true
              description: The name of the organization the database belongs to
              schema:
                type: string
            - name: database
              in: path
              required: true
              description: The name of the database
              schema:
                type: string
          requestBody:
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    default_branch:
                      type: string
                      description: The default branch of the database
                      x-speakeasy-name-override: branch
                      default: main
          responses:
            "200":
              description: Returns the updated database
              headers: {}
              content:
                application/json:
                  schema:
                    type: object
                    properties:
                      default_branch:
                        type: string
                        description: The default branch for the database
                        x-speakeasy-name-override: branch
            "401":
              description: Unauthorized
            "403":
              description: Forbidden
            "404":
              description: Not Found
            "500":
              description: Internal Server Error
          description: |-
            ### Authorization
            A service token or OAuth token must have at least one of the following access or scopes in order to use this API endpoint:

            **Service Token Accesses**
            `write_database`

            **OAuth Scopes**

            | Resource | Scopes |
            | :------- | :---------- |
            | Organization | `write_databases` |
            | Database | `write_database` |
          x-speakeasy-entity-operation: DatabaseDefaultBranch#create,update
      /organizations/{organization}/databases/{database}#reset-default-branch:
        patch:
          tags:
            - Databases
          operationId: reset_database_default_branch
          summary: Reset database default branch
          parameters:
            - name: organization
              in: path
              required: true
              description: The name of the organization the database belongs to
              schema:
                type: string
            - name: database
              in: path
              required: true
              description: The name of the database
              schema:
                type: string
          requestBody:
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    default_branch:
                      type: string
                      description: The default branch of the database
                      x-speakeasy-name-override: branch
                      const: main
          responses:
            "200":
              description: OK
            "401":
              description: Unauthorized
            "403":
              description: Forbidden
            "404":
              description: Not Found
            "500":
              description: Internal Server Error
          description: |-
            ### Authorization
            A service token or OAuth token must have at least one of the following access or scopes in order to use this API endpoint:

            **Service Token Accesses**
            `write_database`

            **OAuth Scopes**

            | Resource | Scopes |
            | :------- | :---------- |
            | Organization | `write_databases` |
            | Database | `write_database` |
          x-speakeasy-entity-operation: DatabaseDefaultBranch#delete