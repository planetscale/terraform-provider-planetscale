---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "planetscale_workflow Resource - terraform-provider-planetscale"
subcategory: ""
description: |-
  Workflow Resource
---

# planetscale_workflow (Resource)

Workflow Resource

## Example Usage

```terraform
resource "planetscale_workflow" "my_workflow" {
  database             = "...my_database..."
  defer_secondary_keys = true
  global_keyspace      = "...my_global_keyspace..."
  name                 = "...my_name..."
  on_ddl               = "EXEC"
  organization         = "...my_organization..."
  source_keyspace      = "...my_source_keyspace..."
  tables = [
    "..."
  ]
  target_keyspace = "...my_target_keyspace..."
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `database` (String) The name of the database the workflow belongs to. Requires replacement if changed.
- `name` (String) Name the workflow. Requires replacement if changed.
- `organization` (String) The name of the organization the workflow belongs to. Requires replacement if changed.
- `source_keyspace` (String) Name of the source keyspace. Requires replacement if changed.
- `tables` (List of String) List of tables to move. Requires replacement if changed.
- `target_keyspace` (String) Name of the target keyspace. Requires replacement if changed.

### Optional

- `defer_secondary_keys` (Boolean) Defer secondary keys. Requires replacement if changed.
- `global_keyspace` (String) Name of the global sequence keyspace. Requires replacement if changed.
- `on_ddl` (String) The behavior when DDL changes during the workflow. must be one of ["IGNORE", "STOP", "EXEC", "EXEC_IGNORE"]; Requires replacement if changed.

### Read-Only

- `actor` (Attributes) (see [below for nested schema](#nestedatt--actor))
- `branch` (Attributes) (see [below for nested schema](#nestedatt--branch))
- `cancelled_at` (String) When the workflow was cancelled
- `cancelled_by` (Attributes) (see [below for nested schema](#nestedatt--cancelled_by))
- `completed_at` (String) When the workflow was completed
- `completed_by` (Attributes) (see [below for nested schema](#nestedatt--completed_by))
- `created_at` (String) When the workflow was created
- `cutover_at` (String) When the cutover was completed
- `cutover_by` (Attributes) (see [below for nested schema](#nestedatt--cutover_by))
- `data_copy_completed_at` (String) When the data copy was completed
- `global_keyspace_data` (Attributes) (see [below for nested schema](#nestedatt--global_keyspace_data))
- `id` (String) The ID of the workflow
- `may_restart` (Boolean) Whether or not the workflow may be restarted
- `may_retry` (Boolean) Whether or not the workflow may be retried
- `number` (Number) The sequence number of the workflow
- `primaries_switched` (Boolean) Whether or not the primaries have been switched
- `replicas_switched` (Boolean) Whether or not the replicas have been switched
- `retried_at` (String) When the workflow was retried
- `retried_by` (Attributes) (see [below for nested schema](#nestedatt--retried_by))
- `reversed_at` (String) When the workflow was reversed
- `reversed_by` (Attributes) (see [below for nested schema](#nestedatt--reversed_by))
- `reversed_cutover_by` (Attributes) (see [below for nested schema](#nestedatt--reversed_cutover_by))
- `sequence_tables_applied` (Boolean) Whether or not sequence tables have been created
- `source_keyspace_data` (Attributes) (see [below for nested schema](#nestedatt--source_keyspace_data))
- `started_at` (String) When the workflow was started
- `state` (String) The state of the workflow
- `switch_primaries_at` (String) When the primaries were switched
- `switch_primaries_by` (Attributes) (see [below for nested schema](#nestedatt--switch_primaries_by))
- `switch_replicas_at` (String) When the replicas were switched
- `switch_replicas_by` (Attributes) (see [below for nested schema](#nestedatt--switch_replicas_by))
- `target_keyspace_data` (Attributes) (see [below for nested schema](#nestedatt--target_keyspace_data))
- `updated_at` (String) When the workflow was last updated
- `verified_data_stale` (Boolean) Whether or not the verified data is stale
- `verify_data_at` (String) When the data was verified
- `verify_data_by` (Attributes) (see [below for nested schema](#nestedatt--verify_data_by))
- `workflow_errors` (String) The errors that occurred during the workflow
- `workflow_subtype` (String) The subtype of the workflow
- `workflow_type` (String) The type of the workflow

<a id="nestedatt--actor"></a>
### Nested Schema for `actor`

Read-Only:

- `avatar_url` (String) The URL of the actor's avatar
- `display_name` (String) The name of the actor
- `id` (String) The ID of the actor


<a id="nestedatt--branch"></a>
### Nested Schema for `branch`

Read-Only:

- `created_at` (String) When the resource was created
- `deleted_at` (String) When the resource was deleted, if deleted
- `id` (String) The ID for the resource
- `name` (String) The name for the resource
- `updated_at` (String) When the resource was last updated


<a id="nestedatt--cancelled_by"></a>
### Nested Schema for `cancelled_by`

Read-Only:

- `avatar_url` (String) The URL of the actor's avatar
- `display_name` (String) The name of the actor
- `id` (String) The ID of the actor


<a id="nestedatt--completed_by"></a>
### Nested Schema for `completed_by`

Read-Only:

- `avatar_url` (String) The URL of the actor's avatar
- `display_name` (String) The name of the actor
- `id` (String) The ID of the actor


<a id="nestedatt--cutover_by"></a>
### Nested Schema for `cutover_by`

Read-Only:

- `avatar_url` (String) The URL of the actor's avatar
- `display_name` (String) The name of the actor
- `id` (String) The ID of the actor


<a id="nestedatt--global_keyspace_data"></a>
### Nested Schema for `global_keyspace_data`

Read-Only:

- `created_at` (String) When the resource was created
- `deleted_at` (String) When the resource was deleted, if deleted
- `id` (String) The ID for the resource
- `name` (String) The name for the resource
- `updated_at` (String) When the resource was last updated


<a id="nestedatt--retried_by"></a>
### Nested Schema for `retried_by`

Read-Only:

- `avatar_url` (String) The URL of the actor's avatar
- `display_name` (String) The name of the actor
- `id` (String) The ID of the actor


<a id="nestedatt--reversed_by"></a>
### Nested Schema for `reversed_by`

Read-Only:

- `avatar_url` (String) The URL of the actor's avatar
- `display_name` (String) The name of the actor
- `id` (String) The ID of the actor


<a id="nestedatt--reversed_cutover_by"></a>
### Nested Schema for `reversed_cutover_by`

Read-Only:

- `avatar_url` (String) The URL of the actor's avatar
- `display_name` (String) The name of the actor
- `id` (String) The ID of the actor


<a id="nestedatt--source_keyspace_data"></a>
### Nested Schema for `source_keyspace_data`

Read-Only:

- `created_at` (String) When the resource was created
- `deleted_at` (String) When the resource was deleted, if deleted
- `id` (String) The ID for the resource
- `name` (String) The name for the resource
- `updated_at` (String) When the resource was last updated


<a id="nestedatt--switch_primaries_by"></a>
### Nested Schema for `switch_primaries_by`

Read-Only:

- `avatar_url` (String) The URL of the actor's avatar
- `display_name` (String) The name of the actor
- `id` (String) The ID of the actor


<a id="nestedatt--switch_replicas_by"></a>
### Nested Schema for `switch_replicas_by`

Read-Only:

- `avatar_url` (String) The URL of the actor's avatar
- `display_name` (String) The name of the actor
- `id` (String) The ID of the actor


<a id="nestedatt--target_keyspace_data"></a>
### Nested Schema for `target_keyspace_data`

Read-Only:

- `created_at` (String) When the resource was created
- `deleted_at` (String) When the resource was deleted, if deleted
- `id` (String) The ID for the resource
- `name` (String) The name for the resource
- `updated_at` (String) When the resource was last updated


<a id="nestedatt--verify_data_by"></a>
### Nested Schema for `verify_data_by`

Read-Only:

- `avatar_url` (String) The URL of the actor's avatar
- `display_name` (String) The name of the actor
- `id` (String) The ID of the actor

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = planetscale_workflow.my_planetscale_workflow
  id = jsonencode({
    database = "..."
    number = 0.0
    organization = "..."
  })
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import planetscale_workflow.my_planetscale_workflow '{"database": "...", "number": 0.0, "organization": "..."}'
```
