---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "planetscale_postgres_branch Resource - terraform-provider-planetscale"
subcategory: ""
description: |-
  PostgresBranch Resource
---

# planetscale_postgres_branch (Resource)

PostgresBranch Resource

## Example Usage

```terraform
resource "planetscale_postgres_branch" "my_postgresbranch" {
  backup_id     = "...my_backup_id..."
  cluster_size  = "...my_cluster_size..."
  database      = "...my_database..."
  major_version = "...my_major_version..."
  name          = "...my_name..."
  organization  = "...my_organization..."
  parent_branch = "...my_parent_branch..."
  region        = "...my_region..."
  restore_point = "...my_restore_point..."
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `database` (String) The name of the database the branch belongs to
- `name` (String) The name of the branch to create. Requires replacement if changed.
- `organization` (String) The name of the organization the branch belongs to
- `parent_branch` (String) Parent branch. Requires replacement if changed.

### Optional

- `backup_id` (String) If provided, restores the backup's schema and data to the new branch. Must have `restore_production_branch_backup(s)` or `restore_backup(s)` access to do this. Requires replacement if changed.
- `cluster_size` (String) The database cluster size is required if a backup_id is provided. Options: PS_10, PS_20, PS_40, ..., PS_2800
- `major_version` (String) For PostgreSQL databases, the PostgreSQL major version to use for the branch. Defaults to the major version of the parent branch if it exists or the database's default branch major version. Ignored for branches restored from backups. Requires replacement if changed.
- `region` (String) The region to create the branch in. If not provided, the branch will be created in the default region for its database. Requires replacement if changed.
- `restore_point` (String) Restore from a point-in-time recovery timestamp (e.g. 2023-01-01T00:00:00Z). Available only for PostgreSQL databases. Requires replacement if changed.

### Read-Only

- `actor` (Attributes) (see [below for nested schema](#nestedatt--actor))
- `cluster_architecture` (String) The CPU architecture for the cluster (e.g., x86_64)
- `cluster_display_name` (String) Display name for the cluster size
- `cluster_iops` (Number) IOPS for the cluster
- `cluster_name` (String) The SKU representing the branch's cluster size
- `created_at` (String) When the branch was created
- `has_read_only_replicas` (Boolean) True if the branch has read-only replica servers
- `has_replicas` (Boolean) True if the branch has replica servers
- `id` (String) The ID of the branch
- `metal` (Boolean) Whether or not this is a metal database
- `private_edge_connectivity` (Boolean) True if private connections are enabled
- `production` (Boolean) Whether or not the branch is a production branch
- `ready` (Boolean) Whether or not the branch is ready to serve queries
- `region_data` (Attributes) (see [below for nested schema](#nestedatt--region_data))
- `replicas` (Number) The number of replicas for the branch
- `restore_checklist_completed_at` (String) When a user last marked a backup restore checklist as completed
- `restored_from_branch` (Attributes) (see [below for nested schema](#nestedatt--restored_from_branch))
- `safe_migrations` (Boolean) Whether or not the branch has safe migrations enabled
- `schema_last_updated_at` (String) When the schema for the branch was last updated
- `stale_schema` (Boolean) Whether or not the branch has a stale schema
- `state` (String) The current state of the branch
- `updated_at` (String) When the branch was last updated

<a id="nestedatt--actor"></a>
### Nested Schema for `actor`

Read-Only:

- `avatar_url` (String) The URL of the actor's avatar
- `display_name` (String) The name of the actor
- `id` (String) The ID of the actor


<a id="nestedatt--region_data"></a>
### Nested Schema for `region_data`

Read-Only:

- `current_default` (Boolean) True if the region is the default for new branch creation
- `display_name` (String) Name of the region
- `enabled` (Boolean) Whether or not the region is currently active
- `id` (String) The ID of the region
- `location` (String) Location of the region
- `provider` (String) Provider for the region (ex. AWS)
- `public_ip_addresses` (List of String) Public IP addresses for the region
- `slug` (String) The slug of the region


<a id="nestedatt--restored_from_branch"></a>
### Nested Schema for `restored_from_branch`

Read-Only:

- `created_at` (String) When the resource was created
- `deleted_at` (String) When the resource was deleted, if deleted
- `id` (String) The ID for the resource
- `name` (String) The name for the resource
- `updated_at` (String) When the resource was last updated

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = planetscale_postgres_branch.my_planetscale_postgres_branch
  id = jsonencode({
    database = "..."
    id = "..."
    organization = "..."
  })
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import planetscale_postgres_branch.my_planetscale_postgres_branch '{"database": "...", "id": "...", "organization": "..."}'
```
