// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"context"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
	"github.com/planetscale/terraform-provider-planetscale/internal/sdk/models/operations"
)

func (r *DatabaseResourceModel) RefreshFromOperationsCreateDatabaseResponseBody(ctx context.Context, resp *operations.CreateDatabaseResponseBody) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		r.AllowDataBranching = types.BoolValue(resp.AllowDataBranching)
		r.AtBackupRestoreBranchesLimit = types.BoolValue(resp.AtBackupRestoreBranchesLimit)
		r.AtDevelopmentBranchUsageLimit = types.BoolValue(resp.AtDevelopmentBranchUsageLimit)
		r.AutomaticMigrations = types.BoolValue(resp.AutomaticMigrations)
		r.BranchesURL = types.StringValue(resp.BranchesURL)
		r.CreatedAt = types.StringValue(resp.CreatedAt)
		r.DataImport.DataSource.Database = types.StringValue(resp.DataImport.DataSource.Database)
		r.DataImport.DataSource.Hostname = types.StringValue(resp.DataImport.DataSource.Hostname)
		r.DataImport.DataSource.Port = types.Float64Value(resp.DataImport.DataSource.Port)
		r.DataImport.FinishedAt = types.StringValue(resp.DataImport.FinishedAt)
		r.DataImport.ImportCheckErrors = types.StringValue(resp.DataImport.ImportCheckErrors)
		r.DataImport.StartedAt = types.StringValue(resp.DataImport.StartedAt)
		r.DataImport.State = types.StringValue(resp.DataImport.State)
		r.ForeignKeysEnabled = types.BoolValue(resp.ForeignKeysEnabled)
		r.HTMLURL = types.StringValue(resp.HTMLURL)
		r.ID = types.StringValue(resp.ID)
		r.InsightsEnabled = types.BoolValue(resp.InsightsEnabled)
		r.InsightsRawQueries = types.BoolValue(resp.InsightsRawQueries)
		r.Kind = types.StringValue(string(resp.Kind))
		r.MigrationFramework = types.StringValue(resp.MigrationFramework)
		r.MigrationTableName = types.StringValue(resp.MigrationTableName)
		r.MultipleAdminsRequiredForDeletion = types.BoolValue(resp.MultipleAdminsRequiredForDeletion)
		r.Name = types.StringValue(resp.Name)
		r.Plan = types.StringValue(resp.Plan)
		r.ProductionBranchWebConsole = types.BoolValue(resp.ProductionBranchWebConsole)
		r.Ready = types.BoolValue(resp.Ready)
		r.RegionData.CurrentDefault = types.BoolValue(resp.RegionData.CurrentDefault)
		r.RegionData.DisplayName = types.StringValue(resp.RegionData.DisplayName)
		r.RegionData.Enabled = types.BoolValue(resp.RegionData.Enabled)
		r.RegionData.ID = types.StringValue(resp.RegionData.ID)
		r.RegionData.Location = types.StringValue(resp.RegionData.Location)
		r.RegionData.Provider = types.StringValue(resp.RegionData.Provider)
		r.RegionData.PublicIPAddresses = make([]types.String, 0, len(resp.RegionData.PublicIPAddresses))
		for _, v := range resp.RegionData.PublicIPAddresses {
			r.RegionData.PublicIPAddresses = append(r.RegionData.PublicIPAddresses, types.StringValue(v))
		}
		r.RegionData.Slug = types.StringValue(resp.RegionData.Slug)
		r.RequireApprovalForDeploy = types.BoolValue(resp.RequireApprovalForDeploy)
		r.ResizeQueued = types.BoolValue(resp.ResizeQueued)
		r.Resizing = types.BoolValue(resp.Resizing)
		r.RestrictBranchRegion = types.BoolValue(resp.RestrictBranchRegion)
		r.SchemaLastUpdatedAt = types.StringValue(resp.SchemaLastUpdatedAt)
		r.Sharded = types.BoolValue(resp.Sharded)
		r.State = types.StringValue(string(resp.State))
		r.UpdatedAt = types.StringValue(resp.UpdatedAt)
		r.URL = types.StringValue(resp.URL)
	}

	return diags
}

func (r *DatabaseResourceModel) RefreshFromOperationsGetDatabaseResponseBody(ctx context.Context, resp *operations.GetDatabaseResponseBody) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		r.AllowDataBranching = types.BoolValue(resp.AllowDataBranching)
		r.AtBackupRestoreBranchesLimit = types.BoolValue(resp.AtBackupRestoreBranchesLimit)
		r.AtDevelopmentBranchUsageLimit = types.BoolValue(resp.AtDevelopmentBranchUsageLimit)
		r.AutomaticMigrations = types.BoolValue(resp.AutomaticMigrations)
		r.BranchesURL = types.StringValue(resp.BranchesURL)
		r.CreatedAt = types.StringValue(resp.CreatedAt)
		r.DataImport.DataSource.Database = types.StringValue(resp.DataImport.DataSource.Database)
		r.DataImport.DataSource.Hostname = types.StringValue(resp.DataImport.DataSource.Hostname)
		r.DataImport.DataSource.Port = types.Float64Value(resp.DataImport.DataSource.Port)
		r.DataImport.FinishedAt = types.StringValue(resp.DataImport.FinishedAt)
		r.DataImport.ImportCheckErrors = types.StringValue(resp.DataImport.ImportCheckErrors)
		r.DataImport.StartedAt = types.StringValue(resp.DataImport.StartedAt)
		r.DataImport.State = types.StringValue(resp.DataImport.State)
		r.ForeignKeysEnabled = types.BoolValue(resp.ForeignKeysEnabled)
		r.HTMLURL = types.StringValue(resp.HTMLURL)
		r.ID = types.StringValue(resp.ID)
		r.InsightsEnabled = types.BoolValue(resp.InsightsEnabled)
		r.InsightsRawQueries = types.BoolValue(resp.InsightsRawQueries)
		r.Kind = types.StringValue(string(resp.Kind))
		r.MigrationFramework = types.StringValue(resp.MigrationFramework)
		r.MigrationTableName = types.StringValue(resp.MigrationTableName)
		r.MultipleAdminsRequiredForDeletion = types.BoolValue(resp.MultipleAdminsRequiredForDeletion)
		r.Name = types.StringValue(resp.Name)
		r.Plan = types.StringValue(resp.Plan)
		r.ProductionBranchWebConsole = types.BoolValue(resp.ProductionBranchWebConsole)
		r.Ready = types.BoolValue(resp.Ready)
		r.RegionData.CurrentDefault = types.BoolValue(resp.RegionData.CurrentDefault)
		r.RegionData.DisplayName = types.StringValue(resp.RegionData.DisplayName)
		r.RegionData.Enabled = types.BoolValue(resp.RegionData.Enabled)
		r.RegionData.ID = types.StringValue(resp.RegionData.ID)
		r.RegionData.Location = types.StringValue(resp.RegionData.Location)
		r.RegionData.Provider = types.StringValue(resp.RegionData.Provider)
		r.RegionData.PublicIPAddresses = make([]types.String, 0, len(resp.RegionData.PublicIPAddresses))
		for _, v := range resp.RegionData.PublicIPAddresses {
			r.RegionData.PublicIPAddresses = append(r.RegionData.PublicIPAddresses, types.StringValue(v))
		}
		r.RegionData.Slug = types.StringValue(resp.RegionData.Slug)
		r.RequireApprovalForDeploy = types.BoolValue(resp.RequireApprovalForDeploy)
		r.ResizeQueued = types.BoolValue(resp.ResizeQueued)
		r.Resizing = types.BoolValue(resp.Resizing)
		r.RestrictBranchRegion = types.BoolValue(resp.RestrictBranchRegion)
		r.SchemaLastUpdatedAt = types.StringValue(resp.SchemaLastUpdatedAt)
		r.Sharded = types.BoolValue(resp.Sharded)
		r.State = types.StringValue(string(resp.State))
		r.UpdatedAt = types.StringValue(resp.UpdatedAt)
		r.URL = types.StringValue(resp.URL)
	}

	return diags
}

func (r *DatabaseResourceModel) RefreshFromOperationsUpdateDatabaseSettingsResponseBody(ctx context.Context, resp *operations.UpdateDatabaseSettingsResponseBody) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		r.AllowDataBranching = types.BoolValue(resp.AllowDataBranching)
		r.AtBackupRestoreBranchesLimit = types.BoolValue(resp.AtBackupRestoreBranchesLimit)
		r.AtDevelopmentBranchUsageLimit = types.BoolValue(resp.AtDevelopmentBranchUsageLimit)
		r.AutomaticMigrations = types.BoolValue(resp.AutomaticMigrations)
		r.BranchesURL = types.StringValue(resp.BranchesURL)
		r.CreatedAt = types.StringValue(resp.CreatedAt)
		r.DataImport.DataSource.Database = types.StringValue(resp.DataImport.DataSource.Database)
		r.DataImport.DataSource.Hostname = types.StringValue(resp.DataImport.DataSource.Hostname)
		r.DataImport.DataSource.Port = types.Float64Value(resp.DataImport.DataSource.Port)
		r.DataImport.FinishedAt = types.StringValue(resp.DataImport.FinishedAt)
		r.DataImport.ImportCheckErrors = types.StringValue(resp.DataImport.ImportCheckErrors)
		r.DataImport.StartedAt = types.StringValue(resp.DataImport.StartedAt)
		r.DataImport.State = types.StringValue(resp.DataImport.State)
		r.ForeignKeysEnabled = types.BoolValue(resp.ForeignKeysEnabled)
		r.HTMLURL = types.StringValue(resp.HTMLURL)
		r.ID = types.StringValue(resp.ID)
		r.InsightsEnabled = types.BoolValue(resp.InsightsEnabled)
		r.InsightsRawQueries = types.BoolValue(resp.InsightsRawQueries)
		r.Kind = types.StringValue(string(resp.Kind))
		r.MigrationFramework = types.StringValue(resp.MigrationFramework)
		r.MigrationTableName = types.StringValue(resp.MigrationTableName)
		r.MultipleAdminsRequiredForDeletion = types.BoolValue(resp.MultipleAdminsRequiredForDeletion)
		r.Name = types.StringValue(resp.Name)
		r.Plan = types.StringValue(resp.Plan)
		r.ProductionBranchWebConsole = types.BoolValue(resp.ProductionBranchWebConsole)
		r.Ready = types.BoolValue(resp.Ready)
		r.RegionData.CurrentDefault = types.BoolValue(resp.RegionData.CurrentDefault)
		r.RegionData.DisplayName = types.StringValue(resp.RegionData.DisplayName)
		r.RegionData.Enabled = types.BoolValue(resp.RegionData.Enabled)
		r.RegionData.ID = types.StringValue(resp.RegionData.ID)
		r.RegionData.Location = types.StringValue(resp.RegionData.Location)
		r.RegionData.Provider = types.StringValue(resp.RegionData.Provider)
		r.RegionData.PublicIPAddresses = make([]types.String, 0, len(resp.RegionData.PublicIPAddresses))
		for _, v := range resp.RegionData.PublicIPAddresses {
			r.RegionData.PublicIPAddresses = append(r.RegionData.PublicIPAddresses, types.StringValue(v))
		}
		r.RegionData.Slug = types.StringValue(resp.RegionData.Slug)
		r.RequireApprovalForDeploy = types.BoolValue(resp.RequireApprovalForDeploy)
		r.ResizeQueued = types.BoolValue(resp.ResizeQueued)
		r.Resizing = types.BoolValue(resp.Resizing)
		r.RestrictBranchRegion = types.BoolValue(resp.RestrictBranchRegion)
		r.SchemaLastUpdatedAt = types.StringValue(resp.SchemaLastUpdatedAt)
		r.Sharded = types.BoolValue(resp.Sharded)
		r.State = types.StringValue(string(resp.State))
		r.UpdatedAt = types.StringValue(resp.UpdatedAt)
		r.URL = types.StringValue(resp.URL)
	}

	return diags
}

func (r *DatabaseResourceModel) ToOperationsCreateDatabaseRequest(ctx context.Context) (*operations.CreateDatabaseRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var organization string
	organization = r.Organization.ValueString()

	body, bodyDiags := r.ToOperationsCreateDatabaseRequestBody(ctx)
	diags.Append(bodyDiags...)

	if diags.HasError() {
		return nil, diags
	}

	out := operations.CreateDatabaseRequest{
		Organization: organization,
		Body:         body,
	}

	return &out, diags
}

func (r *DatabaseResourceModel) ToOperationsCreateDatabaseRequestBody(ctx context.Context) (*operations.CreateDatabaseRequestBody, diag.Diagnostics) {
	var diags diag.Diagnostics

	var name string
	name = r.Name.ValueString()

	region := new(string)
	if !r.Region.IsUnknown() && !r.Region.IsNull() {
		*region = r.Region.ValueString()
	} else {
		region = nil
	}
	var clusterSize string
	clusterSize = r.ClusterSize.ValueString()

	replicas := new(float64)
	if !r.Replicas.IsUnknown() && !r.Replicas.IsNull() {
		*replicas = r.Replicas.ValueFloat64()
	} else {
		replicas = nil
	}
	kind := new(operations.KindRequest)
	if !r.Kind.IsUnknown() && !r.Kind.IsNull() {
		*kind = operations.KindRequest(r.Kind.ValueString())
	} else {
		kind = nil
	}
	majorVersion := new(string)
	if !r.MajorVersion.IsUnknown() && !r.MajorVersion.IsNull() {
		*majorVersion = r.MajorVersion.ValueString()
	} else {
		majorVersion = nil
	}
	out := operations.CreateDatabaseRequestBody{
		Name:         name,
		Region:       region,
		ClusterSize:  clusterSize,
		Replicas:     replicas,
		Kind:         kind,
		MajorVersion: majorVersion,
	}

	return &out, diags
}

func (r *DatabaseResourceModel) ToOperationsDeleteDatabaseRequest(ctx context.Context) (*operations.DeleteDatabaseRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var organization string
	organization = r.Organization.ValueString()

	var database string
	database = r.Database.ValueString()

	out := operations.DeleteDatabaseRequest{
		Organization: organization,
		Database:     database,
	}

	return &out, diags
}

func (r *DatabaseResourceModel) ToOperationsGetDatabaseRequest(ctx context.Context) (*operations.GetDatabaseRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var organization string
	organization = r.Organization.ValueString()

	var database string
	database = r.Database.ValueString()

	out := operations.GetDatabaseRequest{
		Organization: organization,
		Database:     database,
	}

	return &out, diags
}

func (r *DatabaseResourceModel) ToOperationsUpdateDatabaseSettingsRequest(ctx context.Context) (*operations.UpdateDatabaseSettingsRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var organization string
	organization = r.Organization.ValueString()

	var database string
	database = r.Database.ValueString()

	body, bodyDiags := r.ToOperationsUpdateDatabaseSettingsRequestBody(ctx)
	diags.Append(bodyDiags...)

	if diags.HasError() {
		return nil, diags
	}

	out := operations.UpdateDatabaseSettingsRequest{
		Organization: organization,
		Database:     database,
		Body:         body,
	}

	return &out, diags
}

func (r *DatabaseResourceModel) ToOperationsUpdateDatabaseSettingsRequestBody(ctx context.Context) (*operations.UpdateDatabaseSettingsRequestBody, diag.Diagnostics) {
	var diags diag.Diagnostics

	name := new(string)
	if !r.Name.IsUnknown() && !r.Name.IsNull() {
		*name = r.Name.ValueString()
	} else {
		name = nil
	}
	automaticMigrations := new(bool)
	if !r.AutomaticMigrations.IsUnknown() && !r.AutomaticMigrations.IsNull() {
		*automaticMigrations = r.AutomaticMigrations.ValueBool()
	} else {
		automaticMigrations = nil
	}
	migrationFramework := new(string)
	if !r.MigrationFramework.IsUnknown() && !r.MigrationFramework.IsNull() {
		*migrationFramework = r.MigrationFramework.ValueString()
	} else {
		migrationFramework = nil
	}
	migrationTableName := new(string)
	if !r.MigrationTableName.IsUnknown() && !r.MigrationTableName.IsNull() {
		*migrationTableName = r.MigrationTableName.ValueString()
	} else {
		migrationTableName = nil
	}
	requireApprovalForDeploy := new(bool)
	if !r.RequireApprovalForDeploy.IsUnknown() && !r.RequireApprovalForDeploy.IsNull() {
		*requireApprovalForDeploy = r.RequireApprovalForDeploy.ValueBool()
	} else {
		requireApprovalForDeploy = nil
	}
	restrictBranchRegion := new(bool)
	if !r.RestrictBranchRegion.IsUnknown() && !r.RestrictBranchRegion.IsNull() {
		*restrictBranchRegion = r.RestrictBranchRegion.ValueBool()
	} else {
		restrictBranchRegion = nil
	}
	allowDataBranching := new(bool)
	if !r.AllowDataBranching.IsUnknown() && !r.AllowDataBranching.IsNull() {
		*allowDataBranching = r.AllowDataBranching.ValueBool()
	} else {
		allowDataBranching = nil
	}
	insightsRawQueries := new(bool)
	if !r.InsightsRawQueries.IsUnknown() && !r.InsightsRawQueries.IsNull() {
		*insightsRawQueries = r.InsightsRawQueries.ValueBool()
	} else {
		insightsRawQueries = nil
	}
	productionBranchWebConsole := new(bool)
	if !r.ProductionBranchWebConsole.IsUnknown() && !r.ProductionBranchWebConsole.IsNull() {
		*productionBranchWebConsole = r.ProductionBranchWebConsole.ValueBool()
	} else {
		productionBranchWebConsole = nil
	}
	out := operations.UpdateDatabaseSettingsRequestBody{
		Name:                       name,
		AutomaticMigrations:        automaticMigrations,
		MigrationFramework:         migrationFramework,
		MigrationTableName:         migrationTableName,
		RequireApprovalForDeploy:   requireApprovalForDeploy,
		RestrictBranchRegion:       restrictBranchRegion,
		AllowDataBranching:         allowDataBranching,
		InsightsRawQueries:         insightsRawQueries,
		ProductionBranchWebConsole: productionBranchWebConsole,
	}

	return &out, diags
}
