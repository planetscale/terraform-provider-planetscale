// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"context"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
	tfTypes "github.com/planetscale/terraform-provider-planetscale/internal/provider/types"
	"github.com/planetscale/terraform-provider-planetscale/internal/sdk/models/operations"
)

func (r *BackupDataSourceModel) RefreshFromOperationsGetBackupResponseBody(ctx context.Context, resp *operations.GetBackupResponseBody) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		r.Actor.AvatarURL = types.StringValue(resp.Actor.AvatarURL)
		r.Actor.DisplayName = types.StringValue(resp.Actor.DisplayName)
		r.Actor.ID = types.StringValue(resp.Actor.ID)
		r.BackupPolicy.CreatedAt = types.StringValue(resp.BackupPolicy.CreatedAt)
		r.BackupPolicy.FrequencyUnit = types.StringValue(resp.BackupPolicy.FrequencyUnit)
		r.BackupPolicy.FrequencyValue = types.Float64Value(resp.BackupPolicy.FrequencyValue)
		r.BackupPolicy.ID = types.StringValue(resp.BackupPolicy.ID)
		r.BackupPolicy.LastRanAt = types.StringValue(resp.BackupPolicy.LastRanAt)
		r.BackupPolicy.Name = types.StringValue(resp.BackupPolicy.Name)
		r.BackupPolicy.NextRunAt = types.StringValue(resp.BackupPolicy.NextRunAt)
		r.BackupPolicy.Required = types.BoolValue(resp.BackupPolicy.Required)
		r.BackupPolicy.RetentionUnit = types.StringValue(resp.BackupPolicy.RetentionUnit)
		r.BackupPolicy.RetentionValue = types.Float64Value(resp.BackupPolicy.RetentionValue)
		r.BackupPolicy.ScheduleDay = types.StringValue(string(resp.BackupPolicy.ScheduleDay))
		r.BackupPolicy.ScheduleTime = types.StringValue(resp.BackupPolicy.ScheduleTime)
		r.BackupPolicy.ScheduleWeek = types.StringValue(string(resp.BackupPolicy.ScheduleWeek))
		r.BackupPolicy.Target = types.StringValue(string(resp.BackupPolicy.Target))
		r.BackupPolicy.UpdatedAt = types.StringValue(resp.BackupPolicy.UpdatedAt)
		r.CompletedAt = types.StringValue(resp.CompletedAt)
		r.CreatedAt = types.StringValue(resp.CreatedAt)
		r.DatabaseBranch.CreatedAt = types.StringValue(resp.DatabaseBranch.CreatedAt)
		r.DatabaseBranch.DeletedAt = types.StringValue(resp.DatabaseBranch.DeletedAt)
		r.DatabaseBranch.ID = types.StringValue(resp.DatabaseBranch.ID)
		r.DatabaseBranch.Name = types.StringValue(resp.DatabaseBranch.Name)
		r.DatabaseBranch.UpdatedAt = types.StringValue(resp.DatabaseBranch.UpdatedAt)
		r.DeletedAt = types.StringValue(resp.DeletedAt)
		r.EstimatedStorageCost = types.Float64Value(resp.EstimatedStorageCost)
		r.ExpiresAt = types.StringValue(resp.ExpiresAt)
		r.ID = types.StringValue(resp.ID)
		r.Name = types.StringValue(resp.Name)
		r.Protected = types.BoolValue(resp.Protected)
		r.PvcSize = types.Float64Value(resp.PvcSize)
		r.Required = types.BoolValue(resp.Required)
		r.RestoredBranches = []tfTypes.GetBackupRestoredBranch{}

		for _, restoredBranchesItem := range resp.RestoredBranches {
			var restoredBranches tfTypes.GetBackupRestoredBranch

			restoredBranches.CreatedAt = types.StringValue(restoredBranchesItem.CreatedAt)
			restoredBranches.DeletedAt = types.StringValue(restoredBranchesItem.DeletedAt)
			restoredBranches.ID = types.StringValue(restoredBranchesItem.ID)
			restoredBranches.Name = types.StringValue(restoredBranchesItem.Name)
			restoredBranches.UpdatedAt = types.StringValue(restoredBranchesItem.UpdatedAt)

			r.RestoredBranches = append(r.RestoredBranches, restoredBranches)
		}
		r.SchemaSnapshot.CreatedAt = types.StringValue(resp.SchemaSnapshot.CreatedAt)
		r.SchemaSnapshot.ID = types.StringValue(resp.SchemaSnapshot.ID)
		r.SchemaSnapshot.LintedAt = types.StringValue(resp.SchemaSnapshot.LintedAt)
		r.SchemaSnapshot.Name = types.StringValue(resp.SchemaSnapshot.Name)
		r.SchemaSnapshot.UpdatedAt = types.StringValue(resp.SchemaSnapshot.UpdatedAt)
		r.SchemaSnapshot.URL = types.StringValue(resp.SchemaSnapshot.URL)
		r.Size = types.Float64Value(resp.Size)
		r.StartedAt = types.StringValue(resp.StartedAt)
		r.State = types.StringValue(string(resp.State))
		r.UpdatedAt = types.StringValue(resp.UpdatedAt)
	}

	return diags
}

func (r *BackupDataSourceModel) ToOperationsGetBackupRequest(ctx context.Context) (*operations.GetBackupRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var id string
	id = r.ID.ValueString()

	var organization string
	organization = r.Organization.ValueString()

	var database string
	database = r.Database.ValueString()

	var branch string
	branch = r.Branch.ValueString()

	out := operations.GetBackupRequest{
		ID:           id,
		Organization: organization,
		Database:     database,
		Branch:       branch,
	}

	return &out, diags
}
