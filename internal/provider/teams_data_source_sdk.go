// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"context"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
	tfTypes "github.com/planetscale/terraform-provider-planetscale/internal/provider/types"
	"github.com/planetscale/terraform-provider-planetscale/internal/sdk/models/operations"
)

func (r *TeamsDataSourceModel) RefreshFromOperationsListOrganizationTeamsResponseBody(ctx context.Context, resp *operations.ListOrganizationTeamsResponseBody) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		r.Data = []tfTypes.ListOrganizationTeamsData{}

		for _, dataItem := range resp.Data {
			var data tfTypes.ListOrganizationTeamsData

			data.CreatedAt = types.StringValue(dataItem.CreatedAt)
			data.Creator.AvatarURL = types.StringValue(dataItem.Creator.AvatarURL)
			data.Creator.DisplayName = types.StringValue(dataItem.Creator.DisplayName)
			data.Creator.ID = types.StringValue(dataItem.Creator.ID)
			data.Databases = []tfTypes.ListOrganizationTeamsDatabase{}

			for _, databasesItem := range dataItem.Databases {
				var databases tfTypes.ListOrganizationTeamsDatabase

				databases.BranchesURL = types.StringValue(databasesItem.BranchesURL)
				databases.ID = types.StringValue(databasesItem.ID)
				databases.Name = types.StringValue(databasesItem.Name)
				databases.URL = types.StringValue(databasesItem.URL)

				data.Databases = append(data.Databases, databases)
			}
			data.Description = types.StringValue(dataItem.Description)
			data.DisplayName = types.StringValue(dataItem.DisplayName)
			data.ID = types.StringValue(dataItem.ID)
			data.Managed = types.BoolValue(dataItem.Managed)
			data.Members = []tfTypes.ListOrganizationTeamsMember{}

			for _, membersItem := range dataItem.Members {
				var members tfTypes.ListOrganizationTeamsMember

				members.AvatarURL = types.StringValue(membersItem.AvatarURL)
				members.CreatedAt = types.StringValue(membersItem.CreatedAt)
				members.DefaultOrganization.CreatedAt = types.StringValue(membersItem.DefaultOrganization.CreatedAt)
				members.DefaultOrganization.DeletedAt = types.StringValue(membersItem.DefaultOrganization.DeletedAt)
				members.DefaultOrganization.ID = types.StringValue(membersItem.DefaultOrganization.ID)
				members.DefaultOrganization.Name = types.StringValue(membersItem.DefaultOrganization.Name)
				members.DefaultOrganization.UpdatedAt = types.StringValue(membersItem.DefaultOrganization.UpdatedAt)
				members.DirectoryManaged = types.BoolValue(membersItem.DirectoryManaged)
				members.DisplayName = types.StringValue(membersItem.DisplayName)
				members.Email = types.StringValue(membersItem.Email)
				members.EmailVerified = types.BoolValue(membersItem.EmailVerified)
				members.ID = types.StringValue(membersItem.ID)
				members.Managed = types.BoolValue(membersItem.Managed)
				members.Name = types.StringValue(membersItem.Name)
				members.Sso = types.BoolValue(membersItem.Sso)
				members.TwoFactorAuthConfigured = types.BoolValue(membersItem.TwoFactorAuthConfigured)
				members.UpdatedAt = types.StringValue(membersItem.UpdatedAt)

				data.Members = append(data.Members, members)
			}
			data.Name = types.StringValue(dataItem.Name)
			data.Slug = types.StringValue(dataItem.Slug)
			data.UpdatedAt = types.StringValue(dataItem.UpdatedAt)

			r.Data = append(r.Data, data)
		}
	}

	return diags
}

func (r *TeamsDataSourceModel) ToOperationsListOrganizationTeamsRequest(ctx context.Context) (*operations.ListOrganizationTeamsRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var organizationName string
	organizationName = r.OrganizationName.ValueString()

	q := new(string)
	if !r.Q.IsUnknown() && !r.Q.IsNull() {
		*q = r.Q.ValueString()
	} else {
		q = nil
	}
	out := operations.ListOrganizationTeamsRequest{
		OrganizationName: organizationName,
		Q:                q,
	}

	return &out, diags
}
