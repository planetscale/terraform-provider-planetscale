// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"context"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
	tfTypes "github.com/planetscale/terraform-provider-planetscale/internal/provider/types"
	"github.com/planetscale/terraform-provider-planetscale/internal/sdk/models/operations"
)

func (r *TeamDataSourceModel) RefreshFromOperationsGetOrganizationTeamResponseBody(ctx context.Context, resp *operations.GetOrganizationTeamResponseBody) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		r.CreatedAt = types.StringValue(resp.CreatedAt)
		r.Creator.AvatarURL = types.StringValue(resp.Creator.AvatarURL)
		r.Creator.DisplayName = types.StringValue(resp.Creator.DisplayName)
		r.Creator.ID = types.StringValue(resp.Creator.ID)
		r.Databases = []tfTypes.GetOrganizationTeamDatabase{}

		for _, databasesItem := range resp.Databases {
			var databases tfTypes.GetOrganizationTeamDatabase

			databases.BranchesURL = types.StringValue(databasesItem.BranchesURL)
			databases.ID = types.StringValue(databasesItem.ID)
			databases.Name = types.StringValue(databasesItem.Name)
			databases.URL = types.StringValue(databasesItem.URL)

			r.Databases = append(r.Databases, databases)
		}
		r.Description = types.StringValue(resp.Description)
		r.DisplayName = types.StringValue(resp.DisplayName)
		r.ID = types.StringValue(resp.ID)
		r.Managed = types.BoolValue(resp.Managed)
		r.Members = []tfTypes.GetOrganizationTeamMember{}

		for _, membersItem := range resp.Members {
			var members tfTypes.GetOrganizationTeamMember

			members.AvatarURL = types.StringValue(membersItem.AvatarURL)
			members.CreatedAt = types.StringValue(membersItem.CreatedAt)
			members.DefaultOrganization.CreatedAt = types.StringValue(membersItem.DefaultOrganization.CreatedAt)
			members.DefaultOrganization.DeletedAt = types.StringValue(membersItem.DefaultOrganization.DeletedAt)
			members.DefaultOrganization.ID = types.StringValue(membersItem.DefaultOrganization.ID)
			members.DefaultOrganization.Name = types.StringValue(membersItem.DefaultOrganization.Name)
			members.DefaultOrganization.UpdatedAt = types.StringValue(membersItem.DefaultOrganization.UpdatedAt)
			members.DirectoryManaged = types.BoolValue(membersItem.DirectoryManaged)
			members.DisplayName = types.StringValue(membersItem.DisplayName)
			members.Email = types.StringValue(membersItem.Email)
			members.EmailVerified = types.BoolValue(membersItem.EmailVerified)
			members.ID = types.StringValue(membersItem.ID)
			members.Managed = types.BoolValue(membersItem.Managed)
			members.Name = types.StringValue(membersItem.Name)
			members.Sso = types.BoolValue(membersItem.Sso)
			members.TwoFactorAuthConfigured = types.BoolValue(membersItem.TwoFactorAuthConfigured)
			members.UpdatedAt = types.StringValue(membersItem.UpdatedAt)

			r.Members = append(r.Members, members)
		}
		r.Name = types.StringValue(resp.Name)
		r.Slug = types.StringValue(resp.Slug)
		r.UpdatedAt = types.StringValue(resp.UpdatedAt)
	}

	return diags
}

func (r *TeamDataSourceModel) ToOperationsGetOrganizationTeamRequest(ctx context.Context) (*operations.GetOrganizationTeamRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var organizationName string
	organizationName = r.OrganizationName.ValueString()

	var teamSlug string
	teamSlug = r.Slug.ValueString()

	out := operations.GetOrganizationTeamRequest{
		OrganizationName: organizationName,
		TeamSlug:         teamSlug,
	}

	return &out, diags
}
