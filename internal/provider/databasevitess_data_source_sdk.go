// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"context"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
	tfTypes "github.com/planetscale/terraform-provider-planetscale/internal/provider/types"
	"github.com/planetscale/terraform-provider-planetscale/internal/sdk/models/operations"
)

func (r *DatabaseVitessDataSourceModel) RefreshFromOperationsGetVitessDatabaseResponseBody(ctx context.Context, resp *operations.GetVitessDatabaseResponseBody) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		r.AllowDataBranching = types.BoolPointerValue(resp.AllowDataBranching)
		r.AtBackupRestoreBranchesLimit = types.BoolPointerValue(resp.AtBackupRestoreBranchesLimit)
		r.AtDevelopmentBranchUsageLimit = types.BoolPointerValue(resp.AtDevelopmentBranchUsageLimit)
		r.AutomaticMigrations = types.BoolPointerValue(resp.AutomaticMigrations)
		r.BranchesCount = types.Float64PointerValue(resp.BranchesCount)
		r.BranchesURL = types.StringPointerValue(resp.BranchesURL)
		r.CreatedAt = types.StringPointerValue(resp.CreatedAt)
		if resp.DataImport == nil {
			r.DataImport = nil
		} else {
			r.DataImport = &tfTypes.GetVitessDatabaseDataImport{}
			if resp.DataImport.DataSource == nil {
				r.DataImport.DataSource = nil
			} else {
				r.DataImport.DataSource = &tfTypes.GetVitessDatabaseDataSource{}
				r.DataImport.DataSource.Database = types.StringPointerValue(resp.DataImport.DataSource.Database)
				r.DataImport.DataSource.Hostname = types.StringPointerValue(resp.DataImport.DataSource.Hostname)
				r.DataImport.DataSource.Port = types.Float64PointerValue(resp.DataImport.DataSource.Port)
			}
			r.DataImport.FinishedAt = types.StringPointerValue(resp.DataImport.FinishedAt)
			r.DataImport.ImportCheckErrors = types.StringPointerValue(resp.DataImport.ImportCheckErrors)
			r.DataImport.StartedAt = types.StringPointerValue(resp.DataImport.StartedAt)
			r.DataImport.State = types.StringPointerValue(resp.DataImport.State)
		}
		r.DefaultBranch = types.StringPointerValue(resp.DefaultBranch)
		r.DefaultBranchReadOnlyRegionsCount = types.Float64PointerValue(resp.DefaultBranchReadOnlyRegionsCount)
		r.DefaultBranchShardCount = types.Float64PointerValue(resp.DefaultBranchShardCount)
		r.DefaultBranchTableCount = types.Float64PointerValue(resp.DefaultBranchTableCount)
		r.DevelopmentBranchesCount = types.Float64PointerValue(resp.DevelopmentBranchesCount)
		r.ForeignKeysEnabled = types.BoolPointerValue(resp.ForeignKeysEnabled)
		r.HTMLURL = types.StringPointerValue(resp.HTMLURL)
		r.ID = types.StringPointerValue(resp.ID)
		r.InsightsEnabled = types.BoolPointerValue(resp.InsightsEnabled)
		r.InsightsRawQueries = types.BoolPointerValue(resp.InsightsRawQueries)
		r.IssuesCount = types.Float64PointerValue(resp.IssuesCount)
		r.MigrationFramework = types.StringPointerValue(resp.MigrationFramework)
		r.MigrationTableName = types.StringPointerValue(resp.MigrationTableName)
		r.MultipleAdminsRequiredForDeletion = types.BoolPointerValue(resp.MultipleAdminsRequiredForDeletion)
		r.Name = types.StringPointerValue(resp.Name)
		r.OpenSchemaRecommendationsCount = types.Float64PointerValue(resp.OpenSchemaRecommendationsCount)
		r.Plan = types.StringPointerValue(resp.Plan)
		r.ProductionBranchWebConsole = types.BoolPointerValue(resp.ProductionBranchWebConsole)
		r.ProductionBranchesCount = types.Float64PointerValue(resp.ProductionBranchesCount)
		r.Ready = types.BoolPointerValue(resp.Ready)
		if resp.RegionData == nil {
			r.RegionData = nil
		} else {
			r.RegionData = &tfTypes.GetVitessDatabaseRegionData{}
			r.RegionData.CurrentDefault = types.BoolPointerValue(resp.RegionData.CurrentDefault)
			r.RegionData.DisplayName = types.StringPointerValue(resp.RegionData.DisplayName)
			r.RegionData.Enabled = types.BoolPointerValue(resp.RegionData.Enabled)
			r.RegionData.ID = types.StringPointerValue(resp.RegionData.ID)
			r.RegionData.Location = types.StringPointerValue(resp.RegionData.Location)
			r.RegionData.Provider = types.StringPointerValue(resp.RegionData.Provider)
			r.RegionData.PublicIPAddresses = make([]types.String, 0, len(resp.RegionData.PublicIPAddresses))
			for _, v := range resp.RegionData.PublicIPAddresses {
				r.RegionData.PublicIPAddresses = append(r.RegionData.PublicIPAddresses, types.StringValue(v))
			}
			r.RegionData.Slug = types.StringPointerValue(resp.RegionData.Slug)
		}
		r.RequireApprovalForDeploy = types.BoolPointerValue(resp.RequireApprovalForDeploy)
		r.ResizeQueued = types.BoolPointerValue(resp.ResizeQueued)
		r.Resizing = types.BoolPointerValue(resp.Resizing)
		r.RestrictBranchRegion = types.BoolPointerValue(resp.RestrictBranchRegion)
		r.SchemaLastUpdatedAt = types.StringPointerValue(resp.SchemaLastUpdatedAt)
		r.Sharded = types.BoolPointerValue(resp.Sharded)
		if resp.State != nil {
			r.State = types.StringValue(string(*resp.State))
		} else {
			r.State = types.StringNull()
		}
		r.UpdatedAt = types.StringPointerValue(resp.UpdatedAt)
		r.URL = types.StringPointerValue(resp.URL)
	}

	return diags
}

func (r *DatabaseVitessDataSourceModel) ToOperationsGetVitessDatabaseRequest(ctx context.Context) (*operations.GetVitessDatabaseRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var organization string
	organization = r.Organization.ValueString()

	var database string
	database = r.Database.ValueString()

	out := operations.GetVitessDatabaseRequest{
		Organization: organization,
		Database:     database,
	}

	return &out, diags
}
