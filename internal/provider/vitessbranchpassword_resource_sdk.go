// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"context"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
	tfTypes "github.com/planetscale/terraform-provider-planetscale/internal/provider/types"
	"github.com/planetscale/terraform-provider-planetscale/internal/sdk/models/operations"
)

func (r *VitessBranchPasswordResourceModel) RefreshFromOperationsCreatePasswordResponseBody(ctx context.Context, resp *operations.CreatePasswordResponseBody) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		r.AccessHostRegionalURL = types.StringValue(resp.AccessHostRegionalURL)
		r.AccessHostRegionalUrls = make([]types.String, 0, len(resp.AccessHostRegionalUrls))
		for _, v := range resp.AccessHostRegionalUrls {
			r.AccessHostRegionalUrls = append(r.AccessHostRegionalUrls, types.StringValue(v))
		}
		r.AccessHostURL = types.StringValue(resp.AccessHostURL)
		r.Actor = &tfTypes.GetPasswordActor{}
		r.Actor.AvatarURL = types.StringValue(resp.Actor.AvatarURL)
		r.Actor.DisplayName = types.StringValue(resp.Actor.DisplayName)
		r.Actor.ID = types.StringValue(resp.Actor.ID)
		r.Cidrs = make([]types.String, 0, len(resp.Cidrs))
		for _, v := range resp.Cidrs {
			r.Cidrs = append(r.Cidrs, types.StringValue(v))
		}
		r.CreatedAt = types.StringValue(resp.CreatedAt)
		r.DatabaseBranch = &tfTypes.GetPasswordDatabaseBranch{}
		r.DatabaseBranch.ID = types.StringValue(resp.DatabaseBranch.ID)
		r.DatabaseBranch.MysqlEdgeAddress = types.StringValue(resp.DatabaseBranch.MysqlEdgeAddress)
		r.DatabaseBranch.Name = types.StringValue(resp.DatabaseBranch.Name)
		r.DatabaseBranch.PrivateEdgeConnectivity = types.BoolValue(resp.DatabaseBranch.PrivateEdgeConnectivity)
		r.DatabaseBranch.Production = types.BoolValue(resp.DatabaseBranch.Production)
		r.DeletedAt = types.StringValue(resp.DeletedAt)
		r.DirectVtgate = types.BoolValue(resp.DirectVtgate)
		r.DirectVtgateAddresses = make([]types.String, 0, len(resp.DirectVtgateAddresses))
		for _, v := range resp.DirectVtgateAddresses {
			r.DirectVtgateAddresses = append(r.DirectVtgateAddresses, types.StringValue(v))
		}
		r.Expired = types.BoolValue(resp.Expired)
		r.ExpiresAt = types.StringValue(resp.ExpiresAt)
		r.ID = types.StringValue(resp.ID)
		r.LastUsedAt = types.StringValue(resp.LastUsedAt)
		r.Name = types.StringValue(resp.Name)
		r.PlainText = types.StringValue(resp.PlainText)
		r.Region = &tfTypes.GetPasswordRegion{}
		r.Region.CurrentDefault = types.BoolValue(resp.Region.CurrentDefault)
		r.Region.DisplayName = types.StringValue(resp.Region.DisplayName)
		r.Region.Enabled = types.BoolValue(resp.Region.Enabled)
		r.Region.ID = types.StringValue(resp.Region.ID)
		r.Region.Location = types.StringValue(resp.Region.Location)
		r.Region.Provider = types.StringValue(resp.Region.Provider)
		r.Region.PublicIPAddresses = make([]types.String, 0, len(resp.Region.PublicIPAddresses))
		for _, v := range resp.Region.PublicIPAddresses {
			r.Region.PublicIPAddresses = append(r.Region.PublicIPAddresses, types.StringValue(v))
		}
		r.Region.Slug = types.StringValue(resp.Region.Slug)
		r.Renewable = types.BoolValue(resp.Renewable)
		r.Replica = types.BoolValue(resp.Replica)
		r.Role = types.StringValue(string(resp.Role))
		r.TTLSeconds = types.Int64Value(resp.TTLSeconds)
		r.Username = types.StringValue(resp.Username)
	}

	return diags
}

func (r *VitessBranchPasswordResourceModel) RefreshFromOperationsGetPasswordResponseBody(ctx context.Context, resp *operations.GetPasswordResponseBody) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		r.AccessHostRegionalURL = types.StringValue(resp.AccessHostRegionalURL)
		r.AccessHostRegionalUrls = make([]types.String, 0, len(resp.AccessHostRegionalUrls))
		for _, v := range resp.AccessHostRegionalUrls {
			r.AccessHostRegionalUrls = append(r.AccessHostRegionalUrls, types.StringValue(v))
		}
		r.AccessHostURL = types.StringValue(resp.AccessHostURL)
		r.Actor = &tfTypes.GetPasswordActor{}
		r.Actor.AvatarURL = types.StringValue(resp.Actor.AvatarURL)
		r.Actor.DisplayName = types.StringValue(resp.Actor.DisplayName)
		r.Actor.ID = types.StringValue(resp.Actor.ID)
		r.Cidrs = make([]types.String, 0, len(resp.Cidrs))
		for _, v := range resp.Cidrs {
			r.Cidrs = append(r.Cidrs, types.StringValue(v))
		}
		r.CreatedAt = types.StringValue(resp.CreatedAt)
		r.DatabaseBranch = &tfTypes.GetPasswordDatabaseBranch{}
		r.DatabaseBranch.ID = types.StringValue(resp.DatabaseBranch.ID)
		r.DatabaseBranch.MysqlEdgeAddress = types.StringValue(resp.DatabaseBranch.MysqlEdgeAddress)
		r.DatabaseBranch.Name = types.StringValue(resp.DatabaseBranch.Name)
		r.DatabaseBranch.PrivateEdgeConnectivity = types.BoolValue(resp.DatabaseBranch.PrivateEdgeConnectivity)
		r.DatabaseBranch.Production = types.BoolValue(resp.DatabaseBranch.Production)
		r.DeletedAt = types.StringValue(resp.DeletedAt)
		r.DirectVtgate = types.BoolValue(resp.DirectVtgate)
		r.DirectVtgateAddresses = make([]types.String, 0, len(resp.DirectVtgateAddresses))
		for _, v := range resp.DirectVtgateAddresses {
			r.DirectVtgateAddresses = append(r.DirectVtgateAddresses, types.StringValue(v))
		}
		r.Expired = types.BoolValue(resp.Expired)
		r.ExpiresAt = types.StringValue(resp.ExpiresAt)
		r.ID = types.StringValue(resp.ID)
		r.LastUsedAt = types.StringValue(resp.LastUsedAt)
		r.Name = types.StringValue(resp.Name)
		r.Region = &tfTypes.GetPasswordRegion{}
		r.Region.CurrentDefault = types.BoolValue(resp.Region.CurrentDefault)
		r.Region.DisplayName = types.StringValue(resp.Region.DisplayName)
		r.Region.Enabled = types.BoolValue(resp.Region.Enabled)
		r.Region.ID = types.StringValue(resp.Region.ID)
		r.Region.Location = types.StringValue(resp.Region.Location)
		r.Region.Provider = types.StringValue(resp.Region.Provider)
		r.Region.PublicIPAddresses = make([]types.String, 0, len(resp.Region.PublicIPAddresses))
		for _, v := range resp.Region.PublicIPAddresses {
			r.Region.PublicIPAddresses = append(r.Region.PublicIPAddresses, types.StringValue(v))
		}
		r.Region.Slug = types.StringValue(resp.Region.Slug)
		r.Renewable = types.BoolValue(resp.Renewable)
		r.Replica = types.BoolValue(resp.Replica)
		r.Role = types.StringValue(string(resp.Role))
		r.TTLSeconds = types.Int64Value(resp.TTLSeconds)
		r.Username = types.StringValue(resp.Username)
	}

	return diags
}

func (r *VitessBranchPasswordResourceModel) RefreshFromOperationsUpdatePasswordResponseBody(ctx context.Context, resp *operations.UpdatePasswordResponseBody) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		r.AccessHostRegionalURL = types.StringValue(resp.AccessHostRegionalURL)
		r.AccessHostRegionalUrls = make([]types.String, 0, len(resp.AccessHostRegionalUrls))
		for _, v := range resp.AccessHostRegionalUrls {
			r.AccessHostRegionalUrls = append(r.AccessHostRegionalUrls, types.StringValue(v))
		}
		r.AccessHostURL = types.StringValue(resp.AccessHostURL)
		r.Actor = &tfTypes.GetPasswordActor{}
		r.Actor.AvatarURL = types.StringValue(resp.Actor.AvatarURL)
		r.Actor.DisplayName = types.StringValue(resp.Actor.DisplayName)
		r.Actor.ID = types.StringValue(resp.Actor.ID)
		r.Cidrs = make([]types.String, 0, len(resp.Cidrs))
		for _, v := range resp.Cidrs {
			r.Cidrs = append(r.Cidrs, types.StringValue(v))
		}
		r.CreatedAt = types.StringValue(resp.CreatedAt)
		r.DatabaseBranch = &tfTypes.GetPasswordDatabaseBranch{}
		r.DatabaseBranch.ID = types.StringValue(resp.DatabaseBranch.ID)
		r.DatabaseBranch.MysqlEdgeAddress = types.StringValue(resp.DatabaseBranch.MysqlEdgeAddress)
		r.DatabaseBranch.Name = types.StringValue(resp.DatabaseBranch.Name)
		r.DatabaseBranch.PrivateEdgeConnectivity = types.BoolValue(resp.DatabaseBranch.PrivateEdgeConnectivity)
		r.DatabaseBranch.Production = types.BoolValue(resp.DatabaseBranch.Production)
		r.DeletedAt = types.StringValue(resp.DeletedAt)
		r.DirectVtgate = types.BoolValue(resp.DirectVtgate)
		r.DirectVtgateAddresses = make([]types.String, 0, len(resp.DirectVtgateAddresses))
		for _, v := range resp.DirectVtgateAddresses {
			r.DirectVtgateAddresses = append(r.DirectVtgateAddresses, types.StringValue(v))
		}
		r.Expired = types.BoolValue(resp.Expired)
		r.ExpiresAt = types.StringValue(resp.ExpiresAt)
		r.ID = types.StringValue(resp.ID)
		r.LastUsedAt = types.StringValue(resp.LastUsedAt)
		r.Name = types.StringValue(resp.Name)
		r.Region = &tfTypes.GetPasswordRegion{}
		r.Region.CurrentDefault = types.BoolValue(resp.Region.CurrentDefault)
		r.Region.DisplayName = types.StringValue(resp.Region.DisplayName)
		r.Region.Enabled = types.BoolValue(resp.Region.Enabled)
		r.Region.ID = types.StringValue(resp.Region.ID)
		r.Region.Location = types.StringValue(resp.Region.Location)
		r.Region.Provider = types.StringValue(resp.Region.Provider)
		r.Region.PublicIPAddresses = make([]types.String, 0, len(resp.Region.PublicIPAddresses))
		for _, v := range resp.Region.PublicIPAddresses {
			r.Region.PublicIPAddresses = append(r.Region.PublicIPAddresses, types.StringValue(v))
		}
		r.Region.Slug = types.StringValue(resp.Region.Slug)
		r.Renewable = types.BoolValue(resp.Renewable)
		r.Replica = types.BoolValue(resp.Replica)
		r.Role = types.StringValue(string(resp.Role))
		r.TTLSeconds = types.Int64Value(resp.TTLSeconds)
		r.Username = types.StringValue(resp.Username)
	}

	return diags
}

func (r *VitessBranchPasswordResourceModel) ToOperationsCreatePasswordRequest(ctx context.Context) (*operations.CreatePasswordRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var organization string
	organization = r.Organization.ValueString()

	var database string
	database = r.Database.ValueString()

	var branch string
	branch = r.Branch.ValueString()

	body, bodyDiags := r.ToOperationsCreatePasswordRequestBody(ctx)
	diags.Append(bodyDiags...)

	if diags.HasError() {
		return nil, diags
	}

	out := operations.CreatePasswordRequest{
		Organization: organization,
		Database:     database,
		Branch:       branch,
		Body:         body,
	}

	return &out, diags
}

func (r *VitessBranchPasswordResourceModel) ToOperationsCreatePasswordRequestBody(ctx context.Context) (*operations.CreatePasswordRequestBody, diag.Diagnostics) {
	var diags diag.Diagnostics

	name := new(string)
	if !r.Name.IsUnknown() && !r.Name.IsNull() {
		*name = r.Name.ValueString()
	} else {
		name = nil
	}
	role := new(operations.RoleRequest)
	if !r.Role.IsUnknown() && !r.Role.IsNull() {
		*role = operations.RoleRequest(r.Role.ValueString())
	} else {
		role = nil
	}
	replica := new(bool)
	if !r.Replica.IsUnknown() && !r.Replica.IsNull() {
		*replica = r.Replica.ValueBool()
	} else {
		replica = nil
	}
	ttl := new(int64)
	if !r.TTL.IsUnknown() && !r.TTL.IsNull() {
		*ttl = r.TTL.ValueInt64()
	} else {
		ttl = nil
	}
	cidrs := make([]string, 0, len(r.Cidrs))
	for cidrsIndex := range r.Cidrs {
		cidrs = append(cidrs, r.Cidrs[cidrsIndex].ValueString())
	}
	directVtgate := new(bool)
	if !r.DirectVtgate.IsUnknown() && !r.DirectVtgate.IsNull() {
		*directVtgate = r.DirectVtgate.ValueBool()
	} else {
		directVtgate = nil
	}
	out := operations.CreatePasswordRequestBody{
		Name:         name,
		Role:         role,
		Replica:      replica,
		TTL:          ttl,
		Cidrs:        cidrs,
		DirectVtgate: directVtgate,
	}

	return &out, diags
}

func (r *VitessBranchPasswordResourceModel) ToOperationsDeletePasswordRequest(ctx context.Context) (*operations.DeletePasswordRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var organization string
	organization = r.Organization.ValueString()

	var database string
	database = r.Database.ValueString()

	var branch string
	branch = r.Branch.ValueString()

	var id string
	id = r.ID.ValueString()

	out := operations.DeletePasswordRequest{
		Organization: organization,
		Database:     database,
		Branch:       branch,
		ID:           id,
	}

	return &out, diags
}

func (r *VitessBranchPasswordResourceModel) ToOperationsGetPasswordRequest(ctx context.Context) (*operations.GetPasswordRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var organization string
	organization = r.Organization.ValueString()

	var database string
	database = r.Database.ValueString()

	var branch string
	branch = r.Branch.ValueString()

	var id string
	id = r.ID.ValueString()

	out := operations.GetPasswordRequest{
		Organization: organization,
		Database:     database,
		Branch:       branch,
		ID:           id,
	}

	return &out, diags
}

func (r *VitessBranchPasswordResourceModel) ToOperationsUpdatePasswordRequest(ctx context.Context) (*operations.UpdatePasswordRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var organization string
	organization = r.Organization.ValueString()

	var database string
	database = r.Database.ValueString()

	var branch string
	branch = r.Branch.ValueString()

	var id string
	id = r.ID.ValueString()

	body, bodyDiags := r.ToOperationsUpdatePasswordRequestBody(ctx)
	diags.Append(bodyDiags...)

	if diags.HasError() {
		return nil, diags
	}

	out := operations.UpdatePasswordRequest{
		Organization: organization,
		Database:     database,
		Branch:       branch,
		ID:           id,
		Body:         body,
	}

	return &out, diags
}

func (r *VitessBranchPasswordResourceModel) ToOperationsUpdatePasswordRequestBody(ctx context.Context) (*operations.UpdatePasswordRequestBody, diag.Diagnostics) {
	var diags diag.Diagnostics

	name := new(string)
	if !r.Name.IsUnknown() && !r.Name.IsNull() {
		*name = r.Name.ValueString()
	} else {
		name = nil
	}
	cidrs := make([]string, 0, len(r.Cidrs))
	for cidrsIndex := range r.Cidrs {
		cidrs = append(cidrs, r.Cidrs[cidrsIndex].ValueString())
	}
	out := operations.UpdatePasswordRequestBody{
		Name:  name,
		Cidrs: cidrs,
	}

	return &out, diags
}
