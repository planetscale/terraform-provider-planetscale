// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package provider

import (
	"context"
	"encoding/json"
	"github.com/hashicorp/terraform-plugin-framework-jsontypes/jsontypes"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
	tfTypes "github.com/planetscale/terraform-provider-planetscale/internal/provider/types"
	"github.com/planetscale/terraform-provider-planetscale/internal/sdk/models/operations"
)

func (r *BouncerDataSourceModel) RefreshFromOperationsGetBouncerResponseBody(ctx context.Context, resp *operations.GetBouncerResponseBody) diag.Diagnostics {
	var diags diag.Diagnostics

	if resp != nil {
		r.Actor.AvatarURL = types.StringValue(resp.Actor.AvatarURL)
		r.Actor.DisplayName = types.StringValue(resp.Actor.DisplayName)
		r.Actor.ID = types.StringValue(resp.Actor.ID)
		r.BranchData.CreatedAt = types.StringValue(resp.BranchData.CreatedAt)
		r.BranchData.DeletedAt = types.StringValue(resp.BranchData.DeletedAt)
		r.BranchData.ID = types.StringValue(resp.BranchData.ID)
		r.BranchData.Name = types.StringValue(resp.BranchData.Name)
		r.BranchData.UpdatedAt = types.StringValue(resp.BranchData.UpdatedAt)
		r.CreatedAt = types.StringValue(resp.CreatedAt)
		r.DeletedAt = types.StringValue(resp.DeletedAt)
		r.ID = types.StringValue(resp.ID)
		r.Name = types.StringValue(resp.Name)
		r.Parameters = []tfTypes.GetBouncerParameter{}

		for _, parametersItem := range resp.Parameters {
			var parameters tfTypes.GetBouncerParameter

			parameters.Actor.AvatarURL = types.StringValue(parametersItem.Actor.AvatarURL)
			parameters.Actor.DisplayName = types.StringValue(parametersItem.Actor.DisplayName)
			parameters.Actor.ID = types.StringValue(parametersItem.Actor.ID)
			parameters.Category = types.StringValue(parametersItem.Category)
			parameters.CreatedAt = types.StringValue(parametersItem.CreatedAt)
			parameters.DefaultValue = types.StringValue(parametersItem.DefaultValue)
			parameters.Description = types.StringValue(parametersItem.Description)
			parameters.DisplayName = types.StringValue(parametersItem.DisplayName)
			parameters.ID = types.StringValue(parametersItem.ID)
			parameters.Max = types.Float64Value(parametersItem.Max)
			parameters.Min = types.Float64Value(parametersItem.Min)
			parameters.Name = types.StringValue(parametersItem.Name)
			parameters.Namespace = types.StringValue(string(parametersItem.Namespace))
			parameters.Options = make([]types.String, 0, len(parametersItem.Options))
			for _, v := range parametersItem.Options {
				parameters.Options = append(parameters.Options, types.StringValue(v))
			}
			parameters.ParameterType = types.StringValue(string(parametersItem.ParameterType))
			parameters.Required = types.BoolValue(parametersItem.Required)
			parameters.Restart = types.BoolValue(parametersItem.Restart)
			parameters.Step = types.Float64Value(parametersItem.Step)
			parameters.UpdatedAt = types.StringValue(parametersItem.UpdatedAt)
			parameters.URL = types.StringValue(parametersItem.URL)
			parameters.Value = types.StringValue(parametersItem.Value)

			r.Parameters = append(r.Parameters, parameters)
		}
		if resp.RegionData == nil {
			r.RegionData = jsontypes.NewNormalizedNull()
		} else {
			regionDataResult, _ := json.Marshal(resp.RegionData)
			r.RegionData = jsontypes.NewNormalizedValue(string(regionDataResult))
		}
		r.ReplicasPerCell = types.Float64Value(resp.ReplicasPerCell)
		r.Sku.CPU = types.StringValue(resp.Sku.CPU)
		r.Sku.DisplayName = types.StringValue(resp.Sku.DisplayName)
		r.Sku.Name = types.StringValue(resp.Sku.Name)
		r.Sku.RAM = types.Float64Value(resp.Sku.RAM)
		r.Sku.SortOrder = types.Float64Value(resp.Sku.SortOrder)
		r.Target = types.StringValue(string(resp.Target))
		r.UpdatedAt = types.StringValue(resp.UpdatedAt)
	}

	return diags
}

func (r *BouncerDataSourceModel) ToOperationsGetBouncerRequest(ctx context.Context) (*operations.GetBouncerRequest, diag.Diagnostics) {
	var diags diag.Diagnostics

	var organization string
	organization = r.Organization.ValueString()

	var database string
	database = r.Database.ValueString()

	var branch string
	branch = r.Branch.ValueString()

	var name string
	name = r.Name.ValueString()

	out := operations.GetBouncerRequest{
		Organization: organization,
		Database:     database,
		Branch:       branch,
		Name:         name,
	}

	return &out, diags
}
