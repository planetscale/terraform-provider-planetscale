// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package operations

import (
	"encoding/json"
	"fmt"
	"github.com/planetscale/terraform-provider-planetscale/internal/sdk/internal/utils"
	"github.com/planetscale/terraform-provider-planetscale/internal/sdk/types"
	"net/http"
)

type CreatePostgresBranchRequestBody struct {
	// The name of the branch to create
	Name string `json:"name"`
	// Parent branch
	ParentBranch string `json:"parent_branch"`
	// If provided, restores the backup's schema and data to the new branch. Must have `restore_production_branch_backup(s)` or `restore_backup(s)` access to do this.
	BackupID *string `json:"backup_id,omitzero"`
	// The region to create the branch in. If not provided, the branch will be created in the default region for its database.
	Region *string `json:"region,omitzero"`
	// Restore from a point-in-time recovery timestamp (e.g. 2023-01-01T00:00:00Z).
	RestorePoint *string `json:"restore_point,omitzero"`
	// The database cluster size is required if a backup_id is provided.
	ClusterSize *string `json:"cluster_size,omitzero"`
	// The PostgreSQL major version to use for the branch. Defaults to the major version of the parent branch if it exists or the database's default branch major version. Ignored for branches restored from backups.
	MajorVersion *string `json:"major_version,omitzero"`
}

func (c *CreatePostgresBranchRequestBody) GetName() string {
	if c == nil {
		return ""
	}
	return c.Name
}

func (c *CreatePostgresBranchRequestBody) GetParentBranch() string {
	if c == nil {
		return ""
	}
	return c.ParentBranch
}

func (c *CreatePostgresBranchRequestBody) GetBackupID() *string {
	if c == nil {
		return nil
	}
	return c.BackupID
}

func (c *CreatePostgresBranchRequestBody) GetRegion() *string {
	if c == nil {
		return nil
	}
	return c.Region
}

func (c *CreatePostgresBranchRequestBody) GetRestorePoint() *string {
	if c == nil {
		return nil
	}
	return c.RestorePoint
}

func (c *CreatePostgresBranchRequestBody) GetClusterSize() *string {
	if c == nil {
		return nil
	}
	return c.ClusterSize
}

func (c *CreatePostgresBranchRequestBody) GetMajorVersion() *string {
	if c == nil {
		return nil
	}
	return c.MajorVersion
}

type CreatePostgresBranchRequest struct {
	// The name of the organization the branch belongs to
	Organization string `pathParam:"style=simple,explode=false,name=organization"`
	// The name of the database the branch belongs to
	Database string                           `pathParam:"style=simple,explode=false,name=database"`
	Body     *CreatePostgresBranchRequestBody `request:"mediaType=application/json"`
}

func (c CreatePostgresBranchRequest) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreatePostgresBranchRequest) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (c *CreatePostgresBranchRequest) GetOrganization() string {
	if c == nil {
		return ""
	}
	return c.Organization
}

func (c *CreatePostgresBranchRequest) GetDatabase() string {
	if c == nil {
		return ""
	}
	return c.Database
}

func (c *CreatePostgresBranchRequest) GetBody() *CreatePostgresBranchRequestBody {
	if c == nil {
		return nil
	}
	return c.Body
}

// CreatePostgresBranchState - The current state of the branch
type CreatePostgresBranchState string

const (
	CreatePostgresBranchStatePending         CreatePostgresBranchState = "pending"
	CreatePostgresBranchStateSleepInProgress CreatePostgresBranchState = "sleep_in_progress"
	CreatePostgresBranchStateSleeping        CreatePostgresBranchState = "sleeping"
	CreatePostgresBranchStateAwakening       CreatePostgresBranchState = "awakening"
	CreatePostgresBranchStateReady           CreatePostgresBranchState = "ready"
)

func (e CreatePostgresBranchState) ToPointer() *CreatePostgresBranchState {
	return &e
}
func (e *CreatePostgresBranchState) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "pending":
		fallthrough
	case "sleep_in_progress":
		fallthrough
	case "sleeping":
		fallthrough
	case "awakening":
		fallthrough
	case "ready":
		*e = CreatePostgresBranchState(v)
		return nil
	default:
		return fmt.Errorf("invalid value for CreatePostgresBranchState: %v", v)
	}
}

type CreatePostgresBranchActor struct {
	// The ID of the actor
	ID *string `json:"id,omitzero"`
	// The name of the actor
	DisplayName *string `json:"display_name,omitzero"`
	// The URL of the actor's avatar
	AvatarURL *string `json:"avatar_url,omitzero"`
}

func (c *CreatePostgresBranchActor) GetID() *string {
	if c == nil {
		return nil
	}
	return c.ID
}

func (c *CreatePostgresBranchActor) GetDisplayName() *string {
	if c == nil {
		return nil
	}
	return c.DisplayName
}

func (c *CreatePostgresBranchActor) GetAvatarURL() *string {
	if c == nil {
		return nil
	}
	return c.AvatarURL
}

type CreatePostgresBranchRestoredFromBranch struct {
	// The ID for the resource
	ID *string `json:"id,omitzero"`
	// The name for the resource
	Name *string `json:"name,omitzero"`
	// When the resource was created
	CreatedAt *string `json:"created_at,omitzero"`
	// When the resource was last updated
	UpdatedAt *string `json:"updated_at,omitzero"`
	// When the resource was deleted, if deleted
	DeletedAt *string `json:"deleted_at,omitzero"`
}

func (c *CreatePostgresBranchRestoredFromBranch) GetID() *string {
	if c == nil {
		return nil
	}
	return c.ID
}

func (c *CreatePostgresBranchRestoredFromBranch) GetName() *string {
	if c == nil {
		return nil
	}
	return c.Name
}

func (c *CreatePostgresBranchRestoredFromBranch) GetCreatedAt() *string {
	if c == nil {
		return nil
	}
	return c.CreatedAt
}

func (c *CreatePostgresBranchRestoredFromBranch) GetUpdatedAt() *string {
	if c == nil {
		return nil
	}
	return c.UpdatedAt
}

func (c *CreatePostgresBranchRestoredFromBranch) GetDeletedAt() *string {
	if c == nil {
		return nil
	}
	return c.DeletedAt
}

type CreatePostgresBranchRegionData struct {
	// The ID of the region
	ID *string `json:"id,omitzero"`
	// Provider for the region (ex. AWS)
	Provider *string `json:"provider,omitzero"`
	// Whether or not the region is currently active
	Enabled *bool `json:"enabled,omitzero"`
	// Public IP addresses for the region
	PublicIPAddresses []string `json:"public_ip_addresses,omitzero"`
	// Name of the region
	DisplayName *string `json:"display_name,omitzero"`
	// Location of the region
	Location *string `json:"location,omitzero"`
	// The slug of the region
	Slug *string `json:"slug,omitzero"`
	// True if the region is the default for new branch creation
	CurrentDefault *bool `json:"current_default,omitzero"`
}

func (c CreatePostgresBranchRegionData) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreatePostgresBranchRegionData) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (c *CreatePostgresBranchRegionData) GetID() *string {
	if c == nil {
		return nil
	}
	return c.ID
}

func (c *CreatePostgresBranchRegionData) GetProvider() *string {
	if c == nil {
		return nil
	}
	return c.Provider
}

func (c *CreatePostgresBranchRegionData) GetEnabled() *bool {
	if c == nil {
		return nil
	}
	return c.Enabled
}

func (c *CreatePostgresBranchRegionData) GetPublicIPAddresses() []string {
	if c == nil {
		return nil
	}
	return c.PublicIPAddresses
}

func (c *CreatePostgresBranchRegionData) GetDisplayName() *string {
	if c == nil {
		return nil
	}
	return c.DisplayName
}

func (c *CreatePostgresBranchRegionData) GetLocation() *string {
	if c == nil {
		return nil
	}
	return c.Location
}

func (c *CreatePostgresBranchRegionData) GetSlug() *string {
	if c == nil {
		return nil
	}
	return c.Slug
}

func (c *CreatePostgresBranchRegionData) GetCurrentDefault() *bool {
	if c == nil {
		return nil
	}
	return c.CurrentDefault
}

// CreatePostgresBranchResponseBody - Returns the created branch
type CreatePostgresBranchResponseBody struct {
	// The ID of the branch
	ID *string `json:"id,omitzero"`
	// The name of the branch
	Name *string `json:"name,omitzero"`
	// When the branch was created
	CreatedAt *string `json:"created_at,omitzero"`
	// When the branch was last updated
	UpdatedAt *string `json:"updated_at,omitzero"`
	// When a user last marked a backup restore checklist as completed
	RestoreChecklistCompletedAt *string `json:"restore_checklist_completed_at,omitzero"`
	// When the schema for the branch was last updated
	SchemaLastUpdatedAt *string `json:"schema_last_updated_at,omitzero"`
	// The kind of branch (always postgresql for PostgreSQL branches)
	kind *string `const:"postgresql" json:"kind,omitzero"`
	// The current state of the branch
	State *CreatePostgresBranchState `json:"state,omitzero"`
	// The SKU representing the branch's cluster size
	ClusterName *string `json:"cluster_name,omitzero"`
	// Display name for the cluster size
	ClusterDisplayName *string `json:"cluster_display_name,omitzero"`
	// The CPU architecture for the cluster (e.g., x86_64)
	ClusterArchitecture *string `json:"cluster_architecture,omitzero"`
	// IOPS for the cluster
	ClusterIops *int64 `json:"cluster_iops,omitzero"`
	// Whether or not the branch is ready to serve queries
	Ready *bool `json:"ready,omitzero"`
	// Whether or not this is a metal database
	Metal *bool `json:"metal,omitzero"`
	// Whether or not the branch is a production branch
	Production *bool `json:"production,omitzero"`
	// Whether or not this is the default branch
	Default *bool `json:"default,omitzero"`
	// Whether or not the branch has safe migrations enabled
	SafeMigrations *bool `json:"safe_migrations,omitzero"`
	// Whether or not the branch has a stale schema
	StaleSchema *bool `json:"stale_schema,omitzero"`
	// Whether or not the branch is frozen
	Frozen *bool `json:"frozen,omitzero"`
	// Whether or not vector support is being enabled
	EnablingVectors *bool `json:"enabling_vectors,omitzero"`
	// The number of replicas for the branch
	Replicas *int64 `json:"replicas,omitzero"`
	// The current PostgreSQL image version
	ImageVersion *string `json:"image_version,omitzero"`
	// The latest available PostgreSQL image version
	LatestImageVersion *string `json:"latest_image_version,omitzero"`
	// Reason why the branch is read-only, if applicable
	ReadOnlyReason *string `json:"read_only_reason,omitzero"`
	// When the branch became read-only
	ReadOnlyAt *string `json:"read_only_at,omitzero"`
	// Minimum storage size in bytes
	MinimumStorageBytes *int64 `json:"minimum_storage_bytes,omitzero"`
	// Maximum storage size in bytes
	MaximumStorageBytes *int64 `json:"maximum_storage_bytes,omitzero"`
	// Whether storage autoscaling is enabled
	StorageAutoscaling *bool `json:"storage_autoscaling,omitzero"`
	// Whether storage shrinking is enabled
	StorageShrinking *bool `json:"storage_shrinking,omitzero"`
	// The type of storage (e.g., pd_ssd)
	StorageType *string `json:"storage_type,omitzero"`
	// Storage IOPS
	StorageIops *int64 `json:"storage_iops,omitzero"`
	// Storage throughput in MiB/s
	StorageThroughputMibs *int64                                  `json:"storage_throughput_mibs,omitzero"`
	Actor                 *CreatePostgresBranchActor              `json:"actor,omitzero"`
	RestoredFromBranch    *CreatePostgresBranchRestoredFromBranch `json:"restored_from_branch,omitzero"`
	// True if private connections are enabled
	PrivateEdgeConnectivity *bool `json:"private_edge_connectivity,omitzero"`
	// True if the branch has replica servers
	HasReplicas *bool `json:"has_replicas,omitzero"`
	// True if the branch has read-only replica servers
	HasReadOnlyReplicas *bool `json:"has_read_only_replicas,omitzero"`
	// True if the branch has roles
	HasRoles   *bool                           `json:"has_roles,omitzero"`
	RegionData *CreatePostgresBranchRegionData `json:"region,omitzero"`
	// The name of the parent branch from which the branch was created
	ParentBranch *string `json:"parent_branch,omitzero"`
}

func (c CreatePostgresBranchResponseBody) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreatePostgresBranchResponseBody) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (c *CreatePostgresBranchResponseBody) GetID() *string {
	if c == nil {
		return nil
	}
	return c.ID
}

func (c *CreatePostgresBranchResponseBody) GetName() *string {
	if c == nil {
		return nil
	}
	return c.Name
}

func (c *CreatePostgresBranchResponseBody) GetCreatedAt() *string {
	if c == nil {
		return nil
	}
	return c.CreatedAt
}

func (c *CreatePostgresBranchResponseBody) GetUpdatedAt() *string {
	if c == nil {
		return nil
	}
	return c.UpdatedAt
}

func (c *CreatePostgresBranchResponseBody) GetRestoreChecklistCompletedAt() *string {
	if c == nil {
		return nil
	}
	return c.RestoreChecklistCompletedAt
}

func (c *CreatePostgresBranchResponseBody) GetSchemaLastUpdatedAt() *string {
	if c == nil {
		return nil
	}
	return c.SchemaLastUpdatedAt
}

func (c *CreatePostgresBranchResponseBody) GetKind() *string {
	return types.Pointer("postgresql")
}

func (c *CreatePostgresBranchResponseBody) GetState() *CreatePostgresBranchState {
	if c == nil {
		return nil
	}
	return c.State
}

func (c *CreatePostgresBranchResponseBody) GetClusterName() *string {
	if c == nil {
		return nil
	}
	return c.ClusterName
}

func (c *CreatePostgresBranchResponseBody) GetClusterDisplayName() *string {
	if c == nil {
		return nil
	}
	return c.ClusterDisplayName
}

func (c *CreatePostgresBranchResponseBody) GetClusterArchitecture() *string {
	if c == nil {
		return nil
	}
	return c.ClusterArchitecture
}

func (c *CreatePostgresBranchResponseBody) GetClusterIops() *int64 {
	if c == nil {
		return nil
	}
	return c.ClusterIops
}

func (c *CreatePostgresBranchResponseBody) GetReady() *bool {
	if c == nil {
		return nil
	}
	return c.Ready
}

func (c *CreatePostgresBranchResponseBody) GetMetal() *bool {
	if c == nil {
		return nil
	}
	return c.Metal
}

func (c *CreatePostgresBranchResponseBody) GetProduction() *bool {
	if c == nil {
		return nil
	}
	return c.Production
}

func (c *CreatePostgresBranchResponseBody) GetDefault() *bool {
	if c == nil {
		return nil
	}
	return c.Default
}

func (c *CreatePostgresBranchResponseBody) GetSafeMigrations() *bool {
	if c == nil {
		return nil
	}
	return c.SafeMigrations
}

func (c *CreatePostgresBranchResponseBody) GetStaleSchema() *bool {
	if c == nil {
		return nil
	}
	return c.StaleSchema
}

func (c *CreatePostgresBranchResponseBody) GetFrozen() *bool {
	if c == nil {
		return nil
	}
	return c.Frozen
}

func (c *CreatePostgresBranchResponseBody) GetEnablingVectors() *bool {
	if c == nil {
		return nil
	}
	return c.EnablingVectors
}

func (c *CreatePostgresBranchResponseBody) GetReplicas() *int64 {
	if c == nil {
		return nil
	}
	return c.Replicas
}

func (c *CreatePostgresBranchResponseBody) GetImageVersion() *string {
	if c == nil {
		return nil
	}
	return c.ImageVersion
}

func (c *CreatePostgresBranchResponseBody) GetLatestImageVersion() *string {
	if c == nil {
		return nil
	}
	return c.LatestImageVersion
}

func (c *CreatePostgresBranchResponseBody) GetReadOnlyReason() *string {
	if c == nil {
		return nil
	}
	return c.ReadOnlyReason
}

func (c *CreatePostgresBranchResponseBody) GetReadOnlyAt() *string {
	if c == nil {
		return nil
	}
	return c.ReadOnlyAt
}

func (c *CreatePostgresBranchResponseBody) GetMinimumStorageBytes() *int64 {
	if c == nil {
		return nil
	}
	return c.MinimumStorageBytes
}

func (c *CreatePostgresBranchResponseBody) GetMaximumStorageBytes() *int64 {
	if c == nil {
		return nil
	}
	return c.MaximumStorageBytes
}

func (c *CreatePostgresBranchResponseBody) GetStorageAutoscaling() *bool {
	if c == nil {
		return nil
	}
	return c.StorageAutoscaling
}

func (c *CreatePostgresBranchResponseBody) GetStorageShrinking() *bool {
	if c == nil {
		return nil
	}
	return c.StorageShrinking
}

func (c *CreatePostgresBranchResponseBody) GetStorageType() *string {
	if c == nil {
		return nil
	}
	return c.StorageType
}

func (c *CreatePostgresBranchResponseBody) GetStorageIops() *int64 {
	if c == nil {
		return nil
	}
	return c.StorageIops
}

func (c *CreatePostgresBranchResponseBody) GetStorageThroughputMibs() *int64 {
	if c == nil {
		return nil
	}
	return c.StorageThroughputMibs
}

func (c *CreatePostgresBranchResponseBody) GetActor() *CreatePostgresBranchActor {
	if c == nil {
		return nil
	}
	return c.Actor
}

func (c *CreatePostgresBranchResponseBody) GetRestoredFromBranch() *CreatePostgresBranchRestoredFromBranch {
	if c == nil {
		return nil
	}
	return c.RestoredFromBranch
}

func (c *CreatePostgresBranchResponseBody) GetPrivateEdgeConnectivity() *bool {
	if c == nil {
		return nil
	}
	return c.PrivateEdgeConnectivity
}

func (c *CreatePostgresBranchResponseBody) GetHasReplicas() *bool {
	if c == nil {
		return nil
	}
	return c.HasReplicas
}

func (c *CreatePostgresBranchResponseBody) GetHasReadOnlyReplicas() *bool {
	if c == nil {
		return nil
	}
	return c.HasReadOnlyReplicas
}

func (c *CreatePostgresBranchResponseBody) GetHasRoles() *bool {
	if c == nil {
		return nil
	}
	return c.HasRoles
}

func (c *CreatePostgresBranchResponseBody) GetRegionData() *CreatePostgresBranchRegionData {
	if c == nil {
		return nil
	}
	return c.RegionData
}

func (c *CreatePostgresBranchResponseBody) GetParentBranch() *string {
	if c == nil {
		return nil
	}
	return c.ParentBranch
}

type CreatePostgresBranchResponse struct {
	// HTTP response content type for this operation
	ContentType string
	// HTTP response status code for this operation
	StatusCode int
	// Raw HTTP response; suitable for custom response parsing
	RawResponse *http.Response
	// Returns the created branch
	Object *CreatePostgresBranchResponseBody
}

func (c CreatePostgresBranchResponse) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreatePostgresBranchResponse) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (c *CreatePostgresBranchResponse) GetContentType() string {
	if c == nil {
		return ""
	}
	return c.ContentType
}

func (c *CreatePostgresBranchResponse) GetStatusCode() int {
	if c == nil {
		return 0
	}
	return c.StatusCode
}

func (c *CreatePostgresBranchResponse) GetRawResponse() *http.Response {
	if c == nil {
		return nil
	}
	return c.RawResponse
}

func (c *CreatePostgresBranchResponse) GetObject() *CreatePostgresBranchResponseBody {
	if c == nil {
		return nil
	}
	return c.Object
}
