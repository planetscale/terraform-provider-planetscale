// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package operations

import (
	"encoding/json"
	"fmt"
	"github.com/planetscale/terraform-provider-planetscale/internal/sdk/internal/utils"
	"net/http"
)

type CreatePostgresBranchRequestBody struct {
	// The name of the branch to create
	Name string `json:"name"`
	// Parent branch
	ParentBranch string `json:"parent_branch"`
	// If provided, restores the backup's schema and data to the new branch. Must have `restore_production_branch_backup(s)` or `restore_backup(s)` access to do this.
	BackupID *string `json:"backup_id,omitzero"`
	// The region to create the branch in. If not provided, the branch will be created in the default region for its database.
	Region *string `json:"region,omitzero"`
	// Restore from a point-in-time recovery timestamp (e.g. 2023-01-01T00:00:00Z). Available only for PostgreSQL databases.
	RestorePoint *string `json:"restore_point,omitzero"`
	// The database cluster size is required if a backup_id is provided. Options: PS_10, PS_20, PS_40, ..., PS_2800
	ClusterSize *string `json:"cluster_size,omitzero"`
	// For PostgreSQL databases, the PostgreSQL major version to use for the branch. Defaults to the major version of the parent branch if it exists or the database's default branch major version. Ignored for branches restored from backups.
	MajorVersion *string `json:"major_version,omitzero"`
}

func (c *CreatePostgresBranchRequestBody) GetName() string {
	if c == nil {
		return ""
	}
	return c.Name
}

func (c *CreatePostgresBranchRequestBody) GetParentBranch() string {
	if c == nil {
		return ""
	}
	return c.ParentBranch
}

func (c *CreatePostgresBranchRequestBody) GetBackupID() *string {
	if c == nil {
		return nil
	}
	return c.BackupID
}

func (c *CreatePostgresBranchRequestBody) GetRegion() *string {
	if c == nil {
		return nil
	}
	return c.Region
}

func (c *CreatePostgresBranchRequestBody) GetRestorePoint() *string {
	if c == nil {
		return nil
	}
	return c.RestorePoint
}

func (c *CreatePostgresBranchRequestBody) GetClusterSize() *string {
	if c == nil {
		return nil
	}
	return c.ClusterSize
}

func (c *CreatePostgresBranchRequestBody) GetMajorVersion() *string {
	if c == nil {
		return nil
	}
	return c.MajorVersion
}

type CreatePostgresBranchRequest struct {
	// The name of the organization the branch belongs to
	Organization string `pathParam:"style=simple,explode=false,name=organization"`
	// The name of the database the branch belongs to
	Database string                           `pathParam:"style=simple,explode=false,name=database"`
	Body     *CreatePostgresBranchRequestBody `request:"mediaType=application/json"`
}

func (c CreatePostgresBranchRequest) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreatePostgresBranchRequest) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (c *CreatePostgresBranchRequest) GetOrganization() string {
	if c == nil {
		return ""
	}
	return c.Organization
}

func (c *CreatePostgresBranchRequest) GetDatabase() string {
	if c == nil {
		return ""
	}
	return c.Database
}

func (c *CreatePostgresBranchRequest) GetBody() *CreatePostgresBranchRequestBody {
	if c == nil {
		return nil
	}
	return c.Body
}

// CreatePostgresBranchState - The current state of the branch
type CreatePostgresBranchState string

const (
	CreatePostgresBranchStatePending         CreatePostgresBranchState = "pending"
	CreatePostgresBranchStateSleepInProgress CreatePostgresBranchState = "sleep_in_progress"
	CreatePostgresBranchStateSleeping        CreatePostgresBranchState = "sleeping"
	CreatePostgresBranchStateAwakening       CreatePostgresBranchState = "awakening"
	CreatePostgresBranchStateReady           CreatePostgresBranchState = "ready"
)

func (e CreatePostgresBranchState) ToPointer() *CreatePostgresBranchState {
	return &e
}
func (e *CreatePostgresBranchState) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "pending":
		fallthrough
	case "sleep_in_progress":
		fallthrough
	case "sleeping":
		fallthrough
	case "awakening":
		fallthrough
	case "ready":
		*e = CreatePostgresBranchState(v)
		return nil
	default:
		return fmt.Errorf("invalid value for CreatePostgresBranchState: %v", v)
	}
}

type CreatePostgresBranchActor struct {
	// The ID of the actor
	ID string `json:"id"`
	// The name of the actor
	DisplayName string `json:"display_name"`
	// The URL of the actor's avatar
	AvatarURL string `json:"avatar_url"`
}

func (c *CreatePostgresBranchActor) GetID() string {
	if c == nil {
		return ""
	}
	return c.ID
}

func (c *CreatePostgresBranchActor) GetDisplayName() string {
	if c == nil {
		return ""
	}
	return c.DisplayName
}

func (c *CreatePostgresBranchActor) GetAvatarURL() string {
	if c == nil {
		return ""
	}
	return c.AvatarURL
}

type CreatePostgresBranchRestoredFromBranch struct {
	// The ID for the resource
	ID string `json:"id"`
	// The name for the resource
	Name string `json:"name"`
	// When the resource was created
	CreatedAt string `json:"created_at"`
	// When the resource was last updated
	UpdatedAt string `json:"updated_at"`
	// When the resource was deleted, if deleted
	DeletedAt string `json:"deleted_at"`
}

func (c *CreatePostgresBranchRestoredFromBranch) GetID() string {
	if c == nil {
		return ""
	}
	return c.ID
}

func (c *CreatePostgresBranchRestoredFromBranch) GetName() string {
	if c == nil {
		return ""
	}
	return c.Name
}

func (c *CreatePostgresBranchRestoredFromBranch) GetCreatedAt() string {
	if c == nil {
		return ""
	}
	return c.CreatedAt
}

func (c *CreatePostgresBranchRestoredFromBranch) GetUpdatedAt() string {
	if c == nil {
		return ""
	}
	return c.UpdatedAt
}

func (c *CreatePostgresBranchRestoredFromBranch) GetDeletedAt() string {
	if c == nil {
		return ""
	}
	return c.DeletedAt
}

type CreatePostgresBranchRegionData struct {
	// The ID of the region
	ID string `json:"id"`
	// Provider for the region (ex. AWS)
	Provider string `json:"provider"`
	// Whether or not the region is currently active
	Enabled bool `json:"enabled"`
	// Public IP addresses for the region
	PublicIPAddresses []string `json:"public_ip_addresses"`
	// Name of the region
	DisplayName string `json:"display_name"`
	// Location of the region
	Location string `json:"location"`
	// The slug of the region
	Slug string `json:"slug"`
	// True if the region is the default for new branch creation
	CurrentDefault bool `json:"current_default"`
}

func (c *CreatePostgresBranchRegionData) GetID() string {
	if c == nil {
		return ""
	}
	return c.ID
}

func (c *CreatePostgresBranchRegionData) GetProvider() string {
	if c == nil {
		return ""
	}
	return c.Provider
}

func (c *CreatePostgresBranchRegionData) GetEnabled() bool {
	if c == nil {
		return false
	}
	return c.Enabled
}

func (c *CreatePostgresBranchRegionData) GetPublicIPAddresses() []string {
	if c == nil {
		return []string{}
	}
	return c.PublicIPAddresses
}

func (c *CreatePostgresBranchRegionData) GetDisplayName() string {
	if c == nil {
		return ""
	}
	return c.DisplayName
}

func (c *CreatePostgresBranchRegionData) GetLocation() string {
	if c == nil {
		return ""
	}
	return c.Location
}

func (c *CreatePostgresBranchRegionData) GetSlug() string {
	if c == nil {
		return ""
	}
	return c.Slug
}

func (c *CreatePostgresBranchRegionData) GetCurrentDefault() bool {
	if c == nil {
		return false
	}
	return c.CurrentDefault
}

// CreatePostgresBranchResponseBody - Returns the created branch
type CreatePostgresBranchResponseBody struct {
	// The ID of the branch
	ID string `json:"id"`
	// The name of the branch
	Name string `json:"name"`
	// When the branch was created
	CreatedAt string `json:"created_at"`
	// When the branch was last updated
	UpdatedAt string `json:"updated_at"`
	// When a user last marked a backup restore checklist as completed
	RestoreChecklistCompletedAt string `json:"restore_checklist_completed_at"`
	// When the schema for the branch was last updated
	SchemaLastUpdatedAt string `json:"schema_last_updated_at"`
	// The kind of branch (always postgresql for PostgreSQL branches)
	kind string `const:"postgresql" json:"kind"`
	// The current state of the branch
	State CreatePostgresBranchState `json:"state"`
	// The SKU representing the branch's cluster size
	ClusterName string `json:"cluster_name"`
	// IOPS for the cluster
	ClusterIops int64 `json:"cluster_iops"`
	// Whether or not the branch is ready to serve queries
	Ready bool `json:"ready"`
	// Whether or not this is a metal database
	Metal bool `json:"metal"`
	// Whether or not the branch is a production branch
	Production bool `json:"production"`
	// Whether or not the branch has safe migrations enabled
	SafeMigrations bool `json:"safe_migrations"`
	// Whether or not the branch has a stale schema
	StaleSchema        bool                                   `json:"stale_schema"`
	Actor              CreatePostgresBranchActor              `json:"actor"`
	RestoredFromBranch CreatePostgresBranchRestoredFromBranch `json:"restored_from_branch"`
	// True if private connections are enabled
	PrivateEdgeConnectivity bool `json:"private_edge_connectivity"`
	// True if the branch has replica servers
	HasReplicas bool `json:"has_replicas"`
	// True if the branch has read-only replica servers
	HasReadOnlyReplicas bool                           `json:"has_read_only_replicas"`
	RegionData          CreatePostgresBranchRegionData `json:"region"`
	// The name of the parent branch from which the branch was created
	ParentBranch string `json:"parent_branch"`
	// Display name for the cluster size
	ClusterDisplayName *string `json:"cluster_display_name,omitzero"`
	// The CPU architecture for the cluster (e.g., x86_64)
	ClusterArchitecture *string `json:"cluster_architecture,omitzero"`
	// The number of replicas for the branch
	Replicas *int64 `json:"replicas,omitzero"`
}

func (c CreatePostgresBranchResponseBody) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreatePostgresBranchResponseBody) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (c *CreatePostgresBranchResponseBody) GetID() string {
	if c == nil {
		return ""
	}
	return c.ID
}

func (c *CreatePostgresBranchResponseBody) GetName() string {
	if c == nil {
		return ""
	}
	return c.Name
}

func (c *CreatePostgresBranchResponseBody) GetCreatedAt() string {
	if c == nil {
		return ""
	}
	return c.CreatedAt
}

func (c *CreatePostgresBranchResponseBody) GetUpdatedAt() string {
	if c == nil {
		return ""
	}
	return c.UpdatedAt
}

func (c *CreatePostgresBranchResponseBody) GetRestoreChecklistCompletedAt() string {
	if c == nil {
		return ""
	}
	return c.RestoreChecklistCompletedAt
}

func (c *CreatePostgresBranchResponseBody) GetSchemaLastUpdatedAt() string {
	if c == nil {
		return ""
	}
	return c.SchemaLastUpdatedAt
}

func (c *CreatePostgresBranchResponseBody) GetKind() string {
	return "postgresql"
}

func (c *CreatePostgresBranchResponseBody) GetState() CreatePostgresBranchState {
	if c == nil {
		return CreatePostgresBranchState("")
	}
	return c.State
}

func (c *CreatePostgresBranchResponseBody) GetClusterName() string {
	if c == nil {
		return ""
	}
	return c.ClusterName
}

func (c *CreatePostgresBranchResponseBody) GetClusterIops() int64 {
	if c == nil {
		return 0
	}
	return c.ClusterIops
}

func (c *CreatePostgresBranchResponseBody) GetReady() bool {
	if c == nil {
		return false
	}
	return c.Ready
}

func (c *CreatePostgresBranchResponseBody) GetMetal() bool {
	if c == nil {
		return false
	}
	return c.Metal
}

func (c *CreatePostgresBranchResponseBody) GetProduction() bool {
	if c == nil {
		return false
	}
	return c.Production
}

func (c *CreatePostgresBranchResponseBody) GetSafeMigrations() bool {
	if c == nil {
		return false
	}
	return c.SafeMigrations
}

func (c *CreatePostgresBranchResponseBody) GetStaleSchema() bool {
	if c == nil {
		return false
	}
	return c.StaleSchema
}

func (c *CreatePostgresBranchResponseBody) GetActor() CreatePostgresBranchActor {
	if c == nil {
		return CreatePostgresBranchActor{}
	}
	return c.Actor
}

func (c *CreatePostgresBranchResponseBody) GetRestoredFromBranch() CreatePostgresBranchRestoredFromBranch {
	if c == nil {
		return CreatePostgresBranchRestoredFromBranch{}
	}
	return c.RestoredFromBranch
}

func (c *CreatePostgresBranchResponseBody) GetPrivateEdgeConnectivity() bool {
	if c == nil {
		return false
	}
	return c.PrivateEdgeConnectivity
}

func (c *CreatePostgresBranchResponseBody) GetHasReplicas() bool {
	if c == nil {
		return false
	}
	return c.HasReplicas
}

func (c *CreatePostgresBranchResponseBody) GetHasReadOnlyReplicas() bool {
	if c == nil {
		return false
	}
	return c.HasReadOnlyReplicas
}

func (c *CreatePostgresBranchResponseBody) GetRegionData() CreatePostgresBranchRegionData {
	if c == nil {
		return CreatePostgresBranchRegionData{}
	}
	return c.RegionData
}

func (c *CreatePostgresBranchResponseBody) GetParentBranch() string {
	if c == nil {
		return ""
	}
	return c.ParentBranch
}

func (c *CreatePostgresBranchResponseBody) GetClusterDisplayName() *string {
	if c == nil {
		return nil
	}
	return c.ClusterDisplayName
}

func (c *CreatePostgresBranchResponseBody) GetClusterArchitecture() *string {
	if c == nil {
		return nil
	}
	return c.ClusterArchitecture
}

func (c *CreatePostgresBranchResponseBody) GetReplicas() *int64 {
	if c == nil {
		return nil
	}
	return c.Replicas
}

type CreatePostgresBranchResponse struct {
	// HTTP response content type for this operation
	ContentType string
	// HTTP response status code for this operation
	StatusCode int
	// Raw HTTP response; suitable for custom response parsing
	RawResponse *http.Response
	// Returns the created branch
	Object *CreatePostgresBranchResponseBody
}

func (c CreatePostgresBranchResponse) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreatePostgresBranchResponse) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (c *CreatePostgresBranchResponse) GetContentType() string {
	if c == nil {
		return ""
	}
	return c.ContentType
}

func (c *CreatePostgresBranchResponse) GetStatusCode() int {
	if c == nil {
		return 0
	}
	return c.StatusCode
}

func (c *CreatePostgresBranchResponse) GetRawResponse() *http.Response {
	if c == nil {
		return nil
	}
	return c.RawResponse
}

func (c *CreatePostgresBranchResponse) GetObject() *CreatePostgresBranchResponseBody {
	if c == nil {
		return nil
	}
	return c.Object
}
