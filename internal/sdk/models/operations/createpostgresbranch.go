// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package operations

import (
	"encoding/json"
	"fmt"
	"github.com/planetscale/terraform-provider-planetscale/internal/sdk/internal/utils"
	"net/http"
)

type CreatePostgresBranchRequestBody struct {
	// The name of the branch to create
	Name string `json:"name"`
	// The name of the parent branch. Defaults to the database's default branch if not provided.
	ParentBranch *string `json:"parent_branch,omitzero"`
	// If provided, restores the backup's schema and data to the new branch. Must have `restore_production_branch_backup(s)` or `restore_backup(s)` access to do this.
	BackupID *string `json:"backup_id,omitzero"`
	// The region to create the branch in. If not provided, the branch will be created in the default region for its database.
	Region *string `json:"region,omitzero"`
	// Restore from a point-in-time recovery timestamp (e.g. 2023-01-01T00:00:00Z). Available only for PostgreSQL databases.
	RestorePoint *string `json:"restore_point,omitzero"`
	// The database cluster size. Required if a backup_id is provided, optional otherwise. Options: PS_10, PS_20, PS_40, ..., PS_2800
	ClusterSize *string `json:"cluster_size,omitzero"`
	// For PostgreSQL databases, the PostgreSQL major version to use for the branch. Defaults to the major version of the parent branch if it exists or the database's default branch major version. Ignored for branches restored from backups.
	MajorVersion *string `json:"major_version,omitzero"`
}

func (c *CreatePostgresBranchRequestBody) GetName() string {
	if c == nil {
		return ""
	}
	return c.Name
}

func (c *CreatePostgresBranchRequestBody) GetParentBranch() *string {
	if c == nil {
		return nil
	}
	return c.ParentBranch
}

func (c *CreatePostgresBranchRequestBody) GetBackupID() *string {
	if c == nil {
		return nil
	}
	return c.BackupID
}

func (c *CreatePostgresBranchRequestBody) GetRegion() *string {
	if c == nil {
		return nil
	}
	return c.Region
}

func (c *CreatePostgresBranchRequestBody) GetRestorePoint() *string {
	if c == nil {
		return nil
	}
	return c.RestorePoint
}

func (c *CreatePostgresBranchRequestBody) GetClusterSize() *string {
	if c == nil {
		return nil
	}
	return c.ClusterSize
}

func (c *CreatePostgresBranchRequestBody) GetMajorVersion() *string {
	if c == nil {
		return nil
	}
	return c.MajorVersion
}

type CreatePostgresBranchRequest struct {
	// The name of the organization the branch belongs to
	Organization string `pathParam:"style=simple,explode=false,name=organization"`
	// The name of the database the branch belongs to
	Database string                           `pathParam:"style=simple,explode=false,name=database"`
	Body     *CreatePostgresBranchRequestBody `request:"mediaType=application/json"`
}

func (c CreatePostgresBranchRequest) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreatePostgresBranchRequest) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (c *CreatePostgresBranchRequest) GetOrganization() string {
	if c == nil {
		return ""
	}
	return c.Organization
}

func (c *CreatePostgresBranchRequest) GetDatabase() string {
	if c == nil {
		return ""
	}
	return c.Database
}

func (c *CreatePostgresBranchRequest) GetBody() *CreatePostgresBranchRequestBody {
	if c == nil {
		return nil
	}
	return c.Body
}

// CreatePostgresBranchState - The current state of the branch
type CreatePostgresBranchState string

const (
	CreatePostgresBranchStatePending         CreatePostgresBranchState = "pending"
	CreatePostgresBranchStateSleepInProgress CreatePostgresBranchState = "sleep_in_progress"
	CreatePostgresBranchStateSleeping        CreatePostgresBranchState = "sleeping"
	CreatePostgresBranchStateAwakening       CreatePostgresBranchState = "awakening"
	CreatePostgresBranchStateReady           CreatePostgresBranchState = "ready"
)

func (e CreatePostgresBranchState) ToPointer() *CreatePostgresBranchState {
	return &e
}
func (e *CreatePostgresBranchState) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "pending":
		fallthrough
	case "sleep_in_progress":
		fallthrough
	case "sleeping":
		fallthrough
	case "awakening":
		fallthrough
	case "ready":
		*e = CreatePostgresBranchState(v)
		return nil
	default:
		return fmt.Errorf("invalid value for CreatePostgresBranchState: %v", v)
	}
}

type CreatePostgresBranchActor struct {
	// The ID of the actor
	ID string `json:"id"`
}

func (c *CreatePostgresBranchActor) GetID() string {
	if c == nil {
		return ""
	}
	return c.ID
}

type CreatePostgresBranchRegionData struct {
	// The ID of the region
	ID string `json:"id"`
}

func (c *CreatePostgresBranchRegionData) GetID() string {
	if c == nil {
		return ""
	}
	return c.ID
}

// CreatePostgresBranchResponseBody - Returns the created branch
type CreatePostgresBranchResponseBody struct {
	// The ID of the branch
	ID string `json:"id"`
	// The name of the branch
	Name string `json:"name"`
	// The current state of the branch
	State CreatePostgresBranchState `json:"state"`
	// The SKU representing the branch's cluster size
	ClusterName string `json:"cluster_name"`
	// Whether or not the branch is ready to serve queries
	Ready bool                      `json:"ready"`
	Actor CreatePostgresBranchActor `json:"actor"`
	// Planetscale app URL for the branch
	HTMLURL string `json:"html_url"`
	// Planetscale API URL for the branch
	URL        string                         `json:"url"`
	RegionData CreatePostgresBranchRegionData `json:"region"`
	// The name of the parent branch from which the branch was created
	ParentBranch string `json:"parent_branch"`
}

func (c *CreatePostgresBranchResponseBody) GetID() string {
	if c == nil {
		return ""
	}
	return c.ID
}

func (c *CreatePostgresBranchResponseBody) GetName() string {
	if c == nil {
		return ""
	}
	return c.Name
}

func (c *CreatePostgresBranchResponseBody) GetState() CreatePostgresBranchState {
	if c == nil {
		return CreatePostgresBranchState("")
	}
	return c.State
}

func (c *CreatePostgresBranchResponseBody) GetClusterName() string {
	if c == nil {
		return ""
	}
	return c.ClusterName
}

func (c *CreatePostgresBranchResponseBody) GetReady() bool {
	if c == nil {
		return false
	}
	return c.Ready
}

func (c *CreatePostgresBranchResponseBody) GetActor() CreatePostgresBranchActor {
	if c == nil {
		return CreatePostgresBranchActor{}
	}
	return c.Actor
}

func (c *CreatePostgresBranchResponseBody) GetHTMLURL() string {
	if c == nil {
		return ""
	}
	return c.HTMLURL
}

func (c *CreatePostgresBranchResponseBody) GetURL() string {
	if c == nil {
		return ""
	}
	return c.URL
}

func (c *CreatePostgresBranchResponseBody) GetRegionData() CreatePostgresBranchRegionData {
	if c == nil {
		return CreatePostgresBranchRegionData{}
	}
	return c.RegionData
}

func (c *CreatePostgresBranchResponseBody) GetParentBranch() string {
	if c == nil {
		return ""
	}
	return c.ParentBranch
}

type CreatePostgresBranchResponse struct {
	// HTTP response content type for this operation
	ContentType string
	// HTTP response status code for this operation
	StatusCode int
	// Raw HTTP response; suitable for custom response parsing
	RawResponse *http.Response
	// Returns the created branch
	Object *CreatePostgresBranchResponseBody
}

func (c CreatePostgresBranchResponse) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreatePostgresBranchResponse) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (c *CreatePostgresBranchResponse) GetContentType() string {
	if c == nil {
		return ""
	}
	return c.ContentType
}

func (c *CreatePostgresBranchResponse) GetStatusCode() int {
	if c == nil {
		return 0
	}
	return c.StatusCode
}

func (c *CreatePostgresBranchResponse) GetRawResponse() *http.Response {
	if c == nil {
		return nil
	}
	return c.RawResponse
}

func (c *CreatePostgresBranchResponse) GetObject() *CreatePostgresBranchResponseBody {
	if c == nil {
		return nil
	}
	return c.Object
}
