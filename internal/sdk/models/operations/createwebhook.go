// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package operations

import (
	"encoding/json"
	"fmt"
	"github.com/planetscale/terraform-provider-planetscale/internal/sdk/internal/utils"
	"net/http"
)

type CreateWebhookRequestBody struct {
	// The URL the webhook will send events to
	URL string `json:"url"`
	// Whether the webhook should be enabled
	Enabled *bool `json:"enabled,omitzero"`
	// The events this webhook should subscribe to
	Events []string `json:"events,omitzero"`
}

func (c CreateWebhookRequestBody) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreateWebhookRequestBody) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (c *CreateWebhookRequestBody) GetURL() string {
	if c == nil {
		return ""
	}
	return c.URL
}

func (c *CreateWebhookRequestBody) GetEnabled() *bool {
	if c == nil {
		return nil
	}
	return c.Enabled
}

func (c *CreateWebhookRequestBody) GetEvents() []string {
	if c == nil {
		return nil
	}
	return c.Events
}

type CreateWebhookRequest struct {
	// The name of the organization
	Organization string `pathParam:"style=simple,explode=false,name=organization"`
	// The name of the database
	Database string                    `pathParam:"style=simple,explode=false,name=database"`
	Body     *CreateWebhookRequestBody `request:"mediaType=application/json"`
}

func (c CreateWebhookRequest) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreateWebhookRequest) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (c *CreateWebhookRequest) GetOrganization() string {
	if c == nil {
		return ""
	}
	return c.Organization
}

func (c *CreateWebhookRequest) GetDatabase() string {
	if c == nil {
		return ""
	}
	return c.Database
}

func (c *CreateWebhookRequest) GetBody() *CreateWebhookRequestBody {
	if c == nil {
		return nil
	}
	return c.Body
}

type CreateWebhookEvent string

const (
	CreateWebhookEventBranchReady                 CreateWebhookEvent = "branch.ready"
	CreateWebhookEventBranchAnomaly               CreateWebhookEvent = "branch.anomaly"
	CreateWebhookEventBranchPrimaryPromoted       CreateWebhookEvent = "branch.primary_promoted"
	CreateWebhookEventBranchSchemaRecommendation  CreateWebhookEvent = "branch.schema_recommendation"
	CreateWebhookEventBranchSleeping              CreateWebhookEvent = "branch.sleeping"
	CreateWebhookEventBranchStartMaintenance      CreateWebhookEvent = "branch.start_maintenance"
	CreateWebhookEventClusterStorage              CreateWebhookEvent = "cluster.storage"
	CreateWebhookEventDatabaseAccessRequest       CreateWebhookEvent = "database.access_request"
	CreateWebhookEventDeployRequestClosed         CreateWebhookEvent = "deploy_request.closed"
	CreateWebhookEventDeployRequestErrored        CreateWebhookEvent = "deploy_request.errored"
	CreateWebhookEventDeployRequestInProgress     CreateWebhookEvent = "deploy_request.in_progress"
	CreateWebhookEventDeployRequestOpened         CreateWebhookEvent = "deploy_request.opened"
	CreateWebhookEventDeployRequestPendingCutover CreateWebhookEvent = "deploy_request.pending_cutover"
	CreateWebhookEventDeployRequestQueued         CreateWebhookEvent = "deploy_request.queued"
	CreateWebhookEventDeployRequestReverted       CreateWebhookEvent = "deploy_request.reverted"
	CreateWebhookEventDeployRequestSchemaApplied  CreateWebhookEvent = "deploy_request.schema_applied"
	CreateWebhookEventKeyspaceStorage             CreateWebhookEvent = "keyspace.storage"
	CreateWebhookEventWebhookTest                 CreateWebhookEvent = "webhook.test"
)

func (e CreateWebhookEvent) ToPointer() *CreateWebhookEvent {
	return &e
}
func (e *CreateWebhookEvent) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "branch.ready":
		fallthrough
	case "branch.anomaly":
		fallthrough
	case "branch.primary_promoted":
		fallthrough
	case "branch.schema_recommendation":
		fallthrough
	case "branch.sleeping":
		fallthrough
	case "branch.start_maintenance":
		fallthrough
	case "cluster.storage":
		fallthrough
	case "database.access_request":
		fallthrough
	case "deploy_request.closed":
		fallthrough
	case "deploy_request.errored":
		fallthrough
	case "deploy_request.in_progress":
		fallthrough
	case "deploy_request.opened":
		fallthrough
	case "deploy_request.pending_cutover":
		fallthrough
	case "deploy_request.queued":
		fallthrough
	case "deploy_request.reverted":
		fallthrough
	case "deploy_request.schema_applied":
		fallthrough
	case "keyspace.storage":
		fallthrough
	case "webhook.test":
		*e = CreateWebhookEvent(v)
		return nil
	default:
		return fmt.Errorf("invalid value for CreateWebhookEvent: %v", v)
	}
}

// CreateWebhookResponseBody - Returns the created webhook
type CreateWebhookResponseBody struct {
	// The ID of the webhook
	ID string `json:"id"`
	// The URL the webhook will send events to
	URL string `json:"url"`
	// The secret used to sign the webhook payloads
	Secret string `json:"secret"`
	// Whether the webhook is enabled
	Enabled bool `json:"enabled"`
	// The last result sent by the webhook
	LastSentResult string `json:"last_sent_result"`
	// Whether the last sent was successful
	LastSentSuccess bool `json:"last_sent_success"`
	// When the last event was sent
	LastSentAt string `json:"last_sent_at"`
	// When the webhook was created
	CreatedAt string `json:"created_at"`
	// When the webhook was updated
	UpdatedAt string `json:"updated_at"`
	// The events this webhook subscribes to
	Events []CreateWebhookEvent `json:"events"`
}

func (c *CreateWebhookResponseBody) GetID() string {
	if c == nil {
		return ""
	}
	return c.ID
}

func (c *CreateWebhookResponseBody) GetURL() string {
	if c == nil {
		return ""
	}
	return c.URL
}

func (c *CreateWebhookResponseBody) GetSecret() string {
	if c == nil {
		return ""
	}
	return c.Secret
}

func (c *CreateWebhookResponseBody) GetEnabled() bool {
	if c == nil {
		return false
	}
	return c.Enabled
}

func (c *CreateWebhookResponseBody) GetLastSentResult() string {
	if c == nil {
		return ""
	}
	return c.LastSentResult
}

func (c *CreateWebhookResponseBody) GetLastSentSuccess() bool {
	if c == nil {
		return false
	}
	return c.LastSentSuccess
}

func (c *CreateWebhookResponseBody) GetLastSentAt() string {
	if c == nil {
		return ""
	}
	return c.LastSentAt
}

func (c *CreateWebhookResponseBody) GetCreatedAt() string {
	if c == nil {
		return ""
	}
	return c.CreatedAt
}

func (c *CreateWebhookResponseBody) GetUpdatedAt() string {
	if c == nil {
		return ""
	}
	return c.UpdatedAt
}

func (c *CreateWebhookResponseBody) GetEvents() []CreateWebhookEvent {
	if c == nil {
		return []CreateWebhookEvent{}
	}
	return c.Events
}

type CreateWebhookResponse struct {
	// HTTP response content type for this operation
	ContentType string
	// HTTP response status code for this operation
	StatusCode int
	// Raw HTTP response; suitable for custom response parsing
	RawResponse *http.Response
	// Returns the created webhook
	Object *CreateWebhookResponseBody
}

func (c CreateWebhookResponse) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreateWebhookResponse) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (c *CreateWebhookResponse) GetContentType() string {
	if c == nil {
		return ""
	}
	return c.ContentType
}

func (c *CreateWebhookResponse) GetStatusCode() int {
	if c == nil {
		return 0
	}
	return c.StatusCode
}

func (c *CreateWebhookResponse) GetRawResponse() *http.Response {
	if c == nil {
		return nil
	}
	return c.RawResponse
}

func (c *CreateWebhookResponse) GetObject() *CreateWebhookResponseBody {
	if c == nil {
		return nil
	}
	return c.Object
}
