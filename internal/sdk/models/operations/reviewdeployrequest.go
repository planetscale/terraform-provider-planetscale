// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package operations

import (
	"encoding/json"
	"fmt"
	"github.com/planetscale/terraform-provider-planetscale/internal/sdk/internal/utils"
	"net/http"
)

// StateRequestBody - Whether the review is a comment or approval. Service tokens must have corresponding access (either `approve_deploy_request` or `review_deploy_request`)
type StateRequestBody string

const (
	StateRequestBodyCommented StateRequestBody = "commented"
	StateRequestBodyApproved  StateRequestBody = "approved"
)

func (e StateRequestBody) ToPointer() *StateRequestBody {
	return &e
}
func (e *StateRequestBody) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "commented":
		fallthrough
	case "approved":
		*e = StateRequestBody(v)
		return nil
	default:
		return fmt.Errorf("invalid value for StateRequestBody: %v", v)
	}
}

type ReviewDeployRequestRequestBody struct {
	// Whether the review is a comment or approval. Service tokens must have corresponding access (either `approve_deploy_request` or `review_deploy_request`)
	State *StateRequestBody `json:"state,omitzero"`
	// Deploy request review comments
	Body *string `json:"body,omitzero"`
}

func (r *ReviewDeployRequestRequestBody) GetState() *StateRequestBody {
	if r == nil {
		return nil
	}
	return r.State
}

func (r *ReviewDeployRequestRequestBody) GetBody() *string {
	if r == nil {
		return nil
	}
	return r.Body
}

type ReviewDeployRequestRequest struct {
	// The name of the organization the deploy request belongs to
	Organization string `pathParam:"style=simple,explode=false,name=organization"`
	// The name of the database the deploy request belongs to
	Database string `pathParam:"style=simple,explode=false,name=database"`
	// The number of the deploy request
	Number string                          `pathParam:"style=simple,explode=false,name=number"`
	Body   *ReviewDeployRequestRequestBody `request:"mediaType=application/json"`
}

func (r ReviewDeployRequestRequest) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(r, "", false)
}

func (r *ReviewDeployRequestRequest) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &r, "", false, []string{"organization", "database", "number"}); err != nil {
		return err
	}
	return nil
}

func (r *ReviewDeployRequestRequest) GetOrganization() string {
	if r == nil {
		return ""
	}
	return r.Organization
}

func (r *ReviewDeployRequestRequest) GetDatabase() string {
	if r == nil {
		return ""
	}
	return r.Database
}

func (r *ReviewDeployRequestRequest) GetNumber() string {
	if r == nil {
		return ""
	}
	return r.Number
}

func (r *ReviewDeployRequestRequest) GetBody() *ReviewDeployRequestRequestBody {
	if r == nil {
		return nil
	}
	return r.Body
}

// ReviewDeployRequestStateResponseBody - Whether the review is a comment or approval
type ReviewDeployRequestStateResponseBody string

const (
	ReviewDeployRequestStateResponseBodyCommented ReviewDeployRequestStateResponseBody = "commented"
	ReviewDeployRequestStateResponseBodyApproved  ReviewDeployRequestStateResponseBody = "approved"
)

func (e ReviewDeployRequestStateResponseBody) ToPointer() *ReviewDeployRequestStateResponseBody {
	return &e
}
func (e *ReviewDeployRequestStateResponseBody) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "commented":
		fallthrough
	case "approved":
		*e = ReviewDeployRequestStateResponseBody(v)
		return nil
	default:
		return fmt.Errorf("invalid value for ReviewDeployRequestStateResponseBody: %v", v)
	}
}

type ReviewDeployRequestActor struct {
	// The ID of the actor
	ID string `json:"id"`
	// The name of the actor
	DisplayName string `json:"display_name"`
	// The URL of the actor's avatar
	AvatarURL string `json:"avatar_url"`
}

func (r *ReviewDeployRequestActor) GetID() string {
	if r == nil {
		return ""
	}
	return r.ID
}

func (r *ReviewDeployRequestActor) GetDisplayName() string {
	if r == nil {
		return ""
	}
	return r.DisplayName
}

func (r *ReviewDeployRequestActor) GetAvatarURL() string {
	if r == nil {
		return ""
	}
	return r.AvatarURL
}

// ReviewDeployRequestResponseBody - Returns the created deploy request review
type ReviewDeployRequestResponseBody struct {
	// The ID of the review
	ID string `json:"id"`
	// The text body of the review
	Body string `json:"body"`
	// The HTML body of the review
	HTMLBody string `json:"html_body"`
	// Whether the review is a comment or approval
	State ReviewDeployRequestStateResponseBody `json:"state"`
	// When the review was created
	CreatedAt string `json:"created_at"`
	// When the review was last updated
	UpdatedAt string                   `json:"updated_at"`
	Actor     ReviewDeployRequestActor `json:"actor"`
}

func (r *ReviewDeployRequestResponseBody) GetID() string {
	if r == nil {
		return ""
	}
	return r.ID
}

func (r *ReviewDeployRequestResponseBody) GetBody() string {
	if r == nil {
		return ""
	}
	return r.Body
}

func (r *ReviewDeployRequestResponseBody) GetHTMLBody() string {
	if r == nil {
		return ""
	}
	return r.HTMLBody
}

func (r *ReviewDeployRequestResponseBody) GetState() ReviewDeployRequestStateResponseBody {
	if r == nil {
		return ReviewDeployRequestStateResponseBody("")
	}
	return r.State
}

func (r *ReviewDeployRequestResponseBody) GetCreatedAt() string {
	if r == nil {
		return ""
	}
	return r.CreatedAt
}

func (r *ReviewDeployRequestResponseBody) GetUpdatedAt() string {
	if r == nil {
		return ""
	}
	return r.UpdatedAt
}

func (r *ReviewDeployRequestResponseBody) GetActor() ReviewDeployRequestActor {
	if r == nil {
		return ReviewDeployRequestActor{}
	}
	return r.Actor
}

type ReviewDeployRequestResponse struct {
	// HTTP response content type for this operation
	ContentType string
	// HTTP response status code for this operation
	StatusCode int
	// Raw HTTP response; suitable for custom response parsing
	RawResponse *http.Response
	// Returns the created deploy request review
	Object *ReviewDeployRequestResponseBody
}

func (r ReviewDeployRequestResponse) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(r, "", false)
}

func (r *ReviewDeployRequestResponse) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &r, "", false, []string{"ContentType", "StatusCode", "RawResponse"}); err != nil {
		return err
	}
	return nil
}

func (r *ReviewDeployRequestResponse) GetContentType() string {
	if r == nil {
		return ""
	}
	return r.ContentType
}

func (r *ReviewDeployRequestResponse) GetStatusCode() int {
	if r == nil {
		return 0
	}
	return r.StatusCode
}

func (r *ReviewDeployRequestResponse) GetRawResponse() *http.Response {
	if r == nil {
		return nil
	}
	return r.RawResponse
}

func (r *ReviewDeployRequestResponse) GetObject() *ReviewDeployRequestResponseBody {
	if r == nil {
		return nil
	}
	return r.Object
}
