// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package operations

import (
	"encoding/json"
	"fmt"
	"github.com/planetscale/terraform-provider-planetscale/internal/sdk/internal/utils"
	"net/http"
)

// SeedData - If provided, restores the last successful backup's schema and data to the new branch. Must have `restore_production_branch_backup(s)` or `restore_backup(s)` access to do this, in addition to Data Branching™ being enabled for the branch.
type SeedData string

const (
	SeedDataLastSuccessfulBackup SeedData = "last_successful_backup"
)

func (e SeedData) ToPointer() *SeedData {
	return &e
}
func (e *SeedData) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "last_successful_backup":
		*e = SeedData(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SeedData: %v", v)
	}
}

type CreateBranchRequestBody struct {
	// The name of the branch
	Branch string `json:"branch"`
	// Parent branch
	ParentBranch string `json:"parent_branch"`
	// If provided, restores the backup's schema and data to the new branch. Must have `restore_production_branch_backup(s)` or `restore_backup(s)` access to do this.
	BackupID *string `json:"backup_id,omitzero"`
	// The region to create the branch in. If not provided, the branch will be created in the default region for its database.
	Region *string `json:"region,omitzero"`
	// Restore from a point-in-time recovery timestamp (e.g. 2023-01-01T00:00:00Z). Available only for PostgreSQL databases.
	RestorePoint *string `json:"restore_point,omitzero"`
	// If provided, restores the last successful backup's schema and data to the new branch. Must have `restore_production_branch_backup(s)` or `restore_backup(s)` access to do this, in addition to Data Branching™ being enabled for the branch.
	SeedData *SeedData `json:"seed_data,omitzero"`
	// The database cluster size is required if a backup_id is provided. Options: PS_10, PS_20, PS_40, ..., PS_2800
	ClusterSize *string `json:"cluster_size,omitzero"`
	// For PostgreSQL databases, the PostgreSQL major version to use for the branch. Defaults to the major version of the parent branch if it exists or the database's default branch major version. Ignored for branches restored from backups.
	MajorVersion *string `json:"major_version,omitzero"`
}

func (c *CreateBranchRequestBody) GetBranch() string {
	if c == nil {
		return ""
	}
	return c.Branch
}

func (c *CreateBranchRequestBody) GetParentBranch() string {
	if c == nil {
		return ""
	}
	return c.ParentBranch
}

func (c *CreateBranchRequestBody) GetBackupID() *string {
	if c == nil {
		return nil
	}
	return c.BackupID
}

func (c *CreateBranchRequestBody) GetRegion() *string {
	if c == nil {
		return nil
	}
	return c.Region
}

func (c *CreateBranchRequestBody) GetRestorePoint() *string {
	if c == nil {
		return nil
	}
	return c.RestorePoint
}

func (c *CreateBranchRequestBody) GetSeedData() *SeedData {
	if c == nil {
		return nil
	}
	return c.SeedData
}

func (c *CreateBranchRequestBody) GetClusterSize() *string {
	if c == nil {
		return nil
	}
	return c.ClusterSize
}

func (c *CreateBranchRequestBody) GetMajorVersion() *string {
	if c == nil {
		return nil
	}
	return c.MajorVersion
}

type CreateBranchRequest struct {
	// The name of the organization the branch belongs to
	Organization string `pathParam:"style=simple,explode=false,name=organization"`
	// The name of the database the branch belongs to
	Database string                   `pathParam:"style=simple,explode=false,name=database"`
	Body     *CreateBranchRequestBody `request:"mediaType=application/json"`
}

func (c CreateBranchRequest) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreateBranchRequest) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, []string{"organization", "database"}); err != nil {
		return err
	}
	return nil
}

func (c *CreateBranchRequest) GetOrganization() string {
	if c == nil {
		return ""
	}
	return c.Organization
}

func (c *CreateBranchRequest) GetDatabase() string {
	if c == nil {
		return ""
	}
	return c.Database
}

func (c *CreateBranchRequest) GetBody() *CreateBranchRequestBody {
	if c == nil {
		return nil
	}
	return c.Body
}

// CreateBranchKind - The kind of branch
type CreateBranchKind string

const (
	CreateBranchKindMysql      CreateBranchKind = "mysql"
	CreateBranchKindPostgresql CreateBranchKind = "postgresql"
)

func (e CreateBranchKind) ToPointer() *CreateBranchKind {
	return &e
}
func (e *CreateBranchKind) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "mysql":
		fallthrough
	case "postgresql":
		*e = CreateBranchKind(v)
		return nil
	default:
		return fmt.Errorf("invalid value for CreateBranchKind: %v", v)
	}
}

// CreateBranchState - The current state of the branch
type CreateBranchState string

const (
	CreateBranchStatePending         CreateBranchState = "pending"
	CreateBranchStateSleepInProgress CreateBranchState = "sleep_in_progress"
	CreateBranchStateSleeping        CreateBranchState = "sleeping"
	CreateBranchStateAwakening       CreateBranchState = "awakening"
	CreateBranchStateReady           CreateBranchState = "ready"
)

func (e CreateBranchState) ToPointer() *CreateBranchState {
	return &e
}
func (e *CreateBranchState) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "pending":
		fallthrough
	case "sleep_in_progress":
		fallthrough
	case "sleeping":
		fallthrough
	case "awakening":
		fallthrough
	case "ready":
		*e = CreateBranchState(v)
		return nil
	default:
		return fmt.Errorf("invalid value for CreateBranchState: %v", v)
	}
}

type CreateBranchActor struct {
	// The ID of the actor
	ID string `json:"id"`
	// The name of the actor
	DisplayName string `json:"display_name"`
	// The URL of the actor's avatar
	AvatarURL string `json:"avatar_url"`
}

func (c *CreateBranchActor) GetID() string {
	if c == nil {
		return ""
	}
	return c.ID
}

func (c *CreateBranchActor) GetDisplayName() string {
	if c == nil {
		return ""
	}
	return c.DisplayName
}

func (c *CreateBranchActor) GetAvatarURL() string {
	if c == nil {
		return ""
	}
	return c.AvatarURL
}

type CreateBranchRestoredFromBranch struct {
	// The ID for the resource
	ID string `json:"id"`
	// The name for the resource
	Name string `json:"name"`
	// When the resource was created
	CreatedAt string `json:"created_at"`
	// When the resource was last updated
	UpdatedAt string `json:"updated_at"`
	// When the resource was deleted, if deleted
	DeletedAt string `json:"deleted_at"`
}

func (c *CreateBranchRestoredFromBranch) GetID() string {
	if c == nil {
		return ""
	}
	return c.ID
}

func (c *CreateBranchRestoredFromBranch) GetName() string {
	if c == nil {
		return ""
	}
	return c.Name
}

func (c *CreateBranchRestoredFromBranch) GetCreatedAt() string {
	if c == nil {
		return ""
	}
	return c.CreatedAt
}

func (c *CreateBranchRestoredFromBranch) GetUpdatedAt() string {
	if c == nil {
		return ""
	}
	return c.UpdatedAt
}

func (c *CreateBranchRestoredFromBranch) GetDeletedAt() string {
	if c == nil {
		return ""
	}
	return c.DeletedAt
}

type CreateBranchRegionData struct {
	// The ID of the region
	ID string `json:"id"`
	// Provider for the region (ex. AWS)
	Provider string `json:"provider"`
	// Whether or not the region is currently active
	Enabled bool `json:"enabled"`
	// Public IP addresses for the region
	PublicIPAddresses []string `json:"public_ip_addresses"`
	// Name of the region
	DisplayName string `json:"display_name"`
	// Location of the region
	Location string `json:"location"`
	// The slug of the region
	Slug string `json:"slug"`
	// True if the region is the default for new branch creation
	CurrentDefault bool `json:"current_default"`
}

func (c *CreateBranchRegionData) GetID() string {
	if c == nil {
		return ""
	}
	return c.ID
}

func (c *CreateBranchRegionData) GetProvider() string {
	if c == nil {
		return ""
	}
	return c.Provider
}

func (c *CreateBranchRegionData) GetEnabled() bool {
	if c == nil {
		return false
	}
	return c.Enabled
}

func (c *CreateBranchRegionData) GetPublicIPAddresses() []string {
	if c == nil {
		return []string{}
	}
	return c.PublicIPAddresses
}

func (c *CreateBranchRegionData) GetDisplayName() string {
	if c == nil {
		return ""
	}
	return c.DisplayName
}

func (c *CreateBranchRegionData) GetLocation() string {
	if c == nil {
		return ""
	}
	return c.Location
}

func (c *CreateBranchRegionData) GetSlug() string {
	if c == nil {
		return ""
	}
	return c.Slug
}

func (c *CreateBranchRegionData) GetCurrentDefault() bool {
	if c == nil {
		return false
	}
	return c.CurrentDefault
}

// CreateBranchResponseBody - Returns the created branch
type CreateBranchResponseBody struct {
	// The ID of the branch
	ID string `json:"id"`
	// The name of the branch
	Name string `json:"name"`
	// When the branch was created
	CreatedAt string `json:"created_at"`
	// When the branch was last updated
	UpdatedAt string `json:"updated_at"`
	// When the branch was deleted
	DeletedAt string `json:"deleted_at"`
	// When a user last marked a backup restore checklist as completed
	RestoreChecklistCompletedAt string `json:"restore_checklist_completed_at"`
	// When the schema for the branch was last updated
	SchemaLastUpdatedAt string `json:"schema_last_updated_at"`
	// The kind of branch
	Kind CreateBranchKind `json:"kind"`
	// The MySQL address for the branch
	MysqlAddress string `json:"mysql_address"`
	// The address of the MySQL provider for the branch
	MysqlEdgeAddress string `json:"mysql_edge_address"`
	// The current state of the branch
	State CreateBranchState `json:"state"`
	// True if the branch allows passwords to connect directly to a vtgate, bypassing load balancers
	DirectVtgate bool `json:"direct_vtgate"`
	// The size of the vtgate cluster for the branch
	VtgateSize string `json:"vtgate_size"`
	// The number of vtgate instances in the branch
	VtgateCount float64 `json:"vtgate_count"`
	// The SKU representing the branch's cluster size
	ClusterName string `json:"cluster_name"`
	// IOPS for the cluster
	ClusterIops float64 `json:"cluster_iops"`
	// Whether or not the branch is ready to serve queries
	Ready bool `json:"ready"`
	// Whether or not the schema is ready for queries
	SchemaReady bool `json:"schema_ready"`
	// Whether or not this is a metal database
	Metal bool `json:"metal"`
	// Whether or not the branch is a production branch
	Production bool `json:"production"`
	// Whether or not the branch has safe migrations enabled
	SafeMigrations bool `json:"safe_migrations"`
	// Whether or not the branch is sharded
	Sharded bool `json:"sharded"`
	// The number of shards in the branch
	ShardCount float64 `json:"shard_count"`
	// Whether or not the branch has a stale schema
	StaleSchema        bool                           `json:"stale_schema"`
	Actor              CreateBranchActor              `json:"actor"`
	RestoredFromBranch CreateBranchRestoredFromBranch `json:"restored_from_branch"`
	// True if private connections are enabled
	PrivateEdgeConnectivity bool `json:"private_edge_connectivity"`
	// True if the branch has replica servers
	HasReplicas bool `json:"has_replicas"`
	// True if the branch has read-only replica servers
	HasReadOnlyReplicas bool `json:"has_read_only_replicas"`
	// Planetscale app URL for the branch
	HTMLURL string `json:"html_url"`
	// Planetscale API URL for the branch
	URL        string                 `json:"url"`
	RegionData CreateBranchRegionData `json:"region"`
	// The name of the parent branch from which the branch was created
	ParentBranch string `json:"parent_branch"`
}

func (c *CreateBranchResponseBody) GetID() string {
	if c == nil {
		return ""
	}
	return c.ID
}

func (c *CreateBranchResponseBody) GetName() string {
	if c == nil {
		return ""
	}
	return c.Name
}

func (c *CreateBranchResponseBody) GetCreatedAt() string {
	if c == nil {
		return ""
	}
	return c.CreatedAt
}

func (c *CreateBranchResponseBody) GetUpdatedAt() string {
	if c == nil {
		return ""
	}
	return c.UpdatedAt
}

func (c *CreateBranchResponseBody) GetDeletedAt() string {
	if c == nil {
		return ""
	}
	return c.DeletedAt
}

func (c *CreateBranchResponseBody) GetRestoreChecklistCompletedAt() string {
	if c == nil {
		return ""
	}
	return c.RestoreChecklistCompletedAt
}

func (c *CreateBranchResponseBody) GetSchemaLastUpdatedAt() string {
	if c == nil {
		return ""
	}
	return c.SchemaLastUpdatedAt
}

func (c *CreateBranchResponseBody) GetKind() CreateBranchKind {
	if c == nil {
		return CreateBranchKind("")
	}
	return c.Kind
}

func (c *CreateBranchResponseBody) GetMysqlAddress() string {
	if c == nil {
		return ""
	}
	return c.MysqlAddress
}

func (c *CreateBranchResponseBody) GetMysqlEdgeAddress() string {
	if c == nil {
		return ""
	}
	return c.MysqlEdgeAddress
}

func (c *CreateBranchResponseBody) GetState() CreateBranchState {
	if c == nil {
		return CreateBranchState("")
	}
	return c.State
}

func (c *CreateBranchResponseBody) GetDirectVtgate() bool {
	if c == nil {
		return false
	}
	return c.DirectVtgate
}

func (c *CreateBranchResponseBody) GetVtgateSize() string {
	if c == nil {
		return ""
	}
	return c.VtgateSize
}

func (c *CreateBranchResponseBody) GetVtgateCount() float64 {
	if c == nil {
		return 0.0
	}
	return c.VtgateCount
}

func (c *CreateBranchResponseBody) GetClusterName() string {
	if c == nil {
		return ""
	}
	return c.ClusterName
}

func (c *CreateBranchResponseBody) GetClusterIops() float64 {
	if c == nil {
		return 0.0
	}
	return c.ClusterIops
}

func (c *CreateBranchResponseBody) GetReady() bool {
	if c == nil {
		return false
	}
	return c.Ready
}

func (c *CreateBranchResponseBody) GetSchemaReady() bool {
	if c == nil {
		return false
	}
	return c.SchemaReady
}

func (c *CreateBranchResponseBody) GetMetal() bool {
	if c == nil {
		return false
	}
	return c.Metal
}

func (c *CreateBranchResponseBody) GetProduction() bool {
	if c == nil {
		return false
	}
	return c.Production
}

func (c *CreateBranchResponseBody) GetSafeMigrations() bool {
	if c == nil {
		return false
	}
	return c.SafeMigrations
}

func (c *CreateBranchResponseBody) GetSharded() bool {
	if c == nil {
		return false
	}
	return c.Sharded
}

func (c *CreateBranchResponseBody) GetShardCount() float64 {
	if c == nil {
		return 0.0
	}
	return c.ShardCount
}

func (c *CreateBranchResponseBody) GetStaleSchema() bool {
	if c == nil {
		return false
	}
	return c.StaleSchema
}

func (c *CreateBranchResponseBody) GetActor() CreateBranchActor {
	if c == nil {
		return CreateBranchActor{}
	}
	return c.Actor
}

func (c *CreateBranchResponseBody) GetRestoredFromBranch() CreateBranchRestoredFromBranch {
	if c == nil {
		return CreateBranchRestoredFromBranch{}
	}
	return c.RestoredFromBranch
}

func (c *CreateBranchResponseBody) GetPrivateEdgeConnectivity() bool {
	if c == nil {
		return false
	}
	return c.PrivateEdgeConnectivity
}

func (c *CreateBranchResponseBody) GetHasReplicas() bool {
	if c == nil {
		return false
	}
	return c.HasReplicas
}

func (c *CreateBranchResponseBody) GetHasReadOnlyReplicas() bool {
	if c == nil {
		return false
	}
	return c.HasReadOnlyReplicas
}

func (c *CreateBranchResponseBody) GetHTMLURL() string {
	if c == nil {
		return ""
	}
	return c.HTMLURL
}

func (c *CreateBranchResponseBody) GetURL() string {
	if c == nil {
		return ""
	}
	return c.URL
}

func (c *CreateBranchResponseBody) GetRegionData() CreateBranchRegionData {
	if c == nil {
		return CreateBranchRegionData{}
	}
	return c.RegionData
}

func (c *CreateBranchResponseBody) GetParentBranch() string {
	if c == nil {
		return ""
	}
	return c.ParentBranch
}

type CreateBranchResponse struct {
	// HTTP response content type for this operation
	ContentType string
	// HTTP response status code for this operation
	StatusCode int
	// Raw HTTP response; suitable for custom response parsing
	RawResponse *http.Response
	// Returns the created branch
	Object *CreateBranchResponseBody
}

func (c CreateBranchResponse) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreateBranchResponse) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, []string{"ContentType", "StatusCode", "RawResponse"}); err != nil {
		return err
	}
	return nil
}

func (c *CreateBranchResponse) GetContentType() string {
	if c == nil {
		return ""
	}
	return c.ContentType
}

func (c *CreateBranchResponse) GetStatusCode() int {
	if c == nil {
		return 0
	}
	return c.StatusCode
}

func (c *CreateBranchResponse) GetRawResponse() *http.Response {
	if c == nil {
		return nil
	}
	return c.RawResponse
}

func (c *CreateBranchResponse) GetObject() *CreateBranchResponseBody {
	if c == nil {
		return nil
	}
	return c.Object
}
