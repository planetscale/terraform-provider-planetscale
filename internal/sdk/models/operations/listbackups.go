// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package operations

import (
	"encoding/json"
	"fmt"
	"github.com/planetscale/terraform-provider-planetscale/internal/sdk/internal/utils"
	"net/http"
)

// QueryParamState - Filter backups by state
type QueryParamState string

const (
	QueryParamStatePending  QueryParamState = "pending"
	QueryParamStateRunning  QueryParamState = "running"
	QueryParamStateSuccess  QueryParamState = "success"
	QueryParamStateFailed   QueryParamState = "failed"
	QueryParamStateCanceled QueryParamState = "canceled"
	QueryParamStateIgnored  QueryParamState = "ignored"
)

func (e QueryParamState) ToPointer() *QueryParamState {
	return &e
}
func (e *QueryParamState) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "pending":
		fallthrough
	case "running":
		fallthrough
	case "success":
		fallthrough
	case "failed":
		fallthrough
	case "canceled":
		fallthrough
	case "ignored":
		*e = QueryParamState(v)
		return nil
	default:
		return fmt.Errorf("invalid value for QueryParamState: %v", v)
	}
}

type ListBackupsRequest struct {
	// The name of the organization the branch belongs to
	Organization string `pathParam:"style=simple,explode=false,name=organization"`
	// The name of the database the branch belongs to
	Database string `pathParam:"style=simple,explode=false,name=database"`
	// The name of the branch
	Branch string `pathParam:"style=simple,explode=false,name=branch"`
	// Whether to include all backups, including deleted ones
	All *bool `queryParam:"style=form,explode=true,name=all"`
	// Filter backups by state
	State *QueryParamState `queryParam:"style=form,explode=true,name=state"`
	// Filter backups by backup policy ID
	Policy *string `queryParam:"style=form,explode=true,name=policy"`
	// Filter backups started after this date (e.g. 2023-01-01T00:00:00Z)
	From *string `queryParam:"style=form,explode=true,name=from"`
	// Filter backups started before this date (e.g. 2023-01-31T23:59:59Z)
	To *string `queryParam:"style=form,explode=true,name=to"`
	// Filter backups that are running during a specific time (e.g. 2023-01-01T00:00:00Z..2023-01-01T23:59:59Z)
	RunningAt *string `queryParam:"style=form,explode=true,name=running_at"`
	// Filter backups by production branch
	Production *bool `queryParam:"style=form,explode=true,name=production"`
	// If provided, specifies the page offset of returned results
	Page *float64 `default:"1" queryParam:"style=form,explode=true,name=page"`
	// If provided, specifies the number of returned results
	PerPage *float64 `default:"25" queryParam:"style=form,explode=true,name=per_page"`
}

func (l ListBackupsRequest) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(l, "", false)
}

func (l *ListBackupsRequest) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &l, "", false, []string{"organization", "database", "branch"}); err != nil {
		return err
	}
	return nil
}

func (l *ListBackupsRequest) GetOrganization() string {
	if l == nil {
		return ""
	}
	return l.Organization
}

func (l *ListBackupsRequest) GetDatabase() string {
	if l == nil {
		return ""
	}
	return l.Database
}

func (l *ListBackupsRequest) GetBranch() string {
	if l == nil {
		return ""
	}
	return l.Branch
}

func (l *ListBackupsRequest) GetAll() *bool {
	if l == nil {
		return nil
	}
	return l.All
}

func (l *ListBackupsRequest) GetState() *QueryParamState {
	if l == nil {
		return nil
	}
	return l.State
}

func (l *ListBackupsRequest) GetPolicy() *string {
	if l == nil {
		return nil
	}
	return l.Policy
}

func (l *ListBackupsRequest) GetFrom() *string {
	if l == nil {
		return nil
	}
	return l.From
}

func (l *ListBackupsRequest) GetTo() *string {
	if l == nil {
		return nil
	}
	return l.To
}

func (l *ListBackupsRequest) GetRunningAt() *string {
	if l == nil {
		return nil
	}
	return l.RunningAt
}

func (l *ListBackupsRequest) GetProduction() *bool {
	if l == nil {
		return nil
	}
	return l.Production
}

func (l *ListBackupsRequest) GetPage() *float64 {
	if l == nil {
		return nil
	}
	return l.Page
}

func (l *ListBackupsRequest) GetPerPage() *float64 {
	if l == nil {
		return nil
	}
	return l.PerPage
}

// ListBackupsDataState - The current state of the backup
type ListBackupsDataState string

const (
	ListBackupsDataStatePending  ListBackupsDataState = "pending"
	ListBackupsDataStateRunning  ListBackupsDataState = "running"
	ListBackupsDataStateSuccess  ListBackupsDataState = "success"
	ListBackupsDataStateFailed   ListBackupsDataState = "failed"
	ListBackupsDataStateCanceled ListBackupsDataState = "canceled"
	ListBackupsDataStateIgnored  ListBackupsDataState = "ignored"
)

func (e ListBackupsDataState) ToPointer() *ListBackupsDataState {
	return &e
}
func (e *ListBackupsDataState) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "pending":
		fallthrough
	case "running":
		fallthrough
	case "success":
		fallthrough
	case "failed":
		fallthrough
	case "canceled":
		fallthrough
	case "ignored":
		*e = ListBackupsDataState(v)
		return nil
	default:
		return fmt.Errorf("invalid value for ListBackupsDataState: %v", v)
	}
}

type ListBackupsRestoredBranch struct {
	// The ID for the resource
	ID string `json:"id"`
	// The name for the resource
	Name string `json:"name"`
	// When the resource was created
	CreatedAt string `json:"created_at"`
	// When the resource was last updated
	UpdatedAt string `json:"updated_at"`
	// When the resource was deleted, if deleted
	DeletedAt string `json:"deleted_at"`
}

func (l *ListBackupsRestoredBranch) GetID() string {
	if l == nil {
		return ""
	}
	return l.ID
}

func (l *ListBackupsRestoredBranch) GetName() string {
	if l == nil {
		return ""
	}
	return l.Name
}

func (l *ListBackupsRestoredBranch) GetCreatedAt() string {
	if l == nil {
		return ""
	}
	return l.CreatedAt
}

func (l *ListBackupsRestoredBranch) GetUpdatedAt() string {
	if l == nil {
		return ""
	}
	return l.UpdatedAt
}

func (l *ListBackupsRestoredBranch) GetDeletedAt() string {
	if l == nil {
		return ""
	}
	return l.DeletedAt
}

type ListBackupsActor struct {
	// The ID of the actor
	ID string `json:"id"`
	// The name of the actor
	DisplayName string `json:"display_name"`
	// The URL of the actor's avatar
	AvatarURL string `json:"avatar_url"`
}

func (l *ListBackupsActor) GetID() string {
	if l == nil {
		return ""
	}
	return l.ID
}

func (l *ListBackupsActor) GetDisplayName() string {
	if l == nil {
		return ""
	}
	return l.DisplayName
}

func (l *ListBackupsActor) GetAvatarURL() string {
	if l == nil {
		return ""
	}
	return l.AvatarURL
}

// ListBackupsTarget - Whether the policy is for production or development branches
type ListBackupsTarget string

const (
	ListBackupsTargetProduction  ListBackupsTarget = "production"
	ListBackupsTargetDevelopment ListBackupsTarget = "development"
)

func (e ListBackupsTarget) ToPointer() *ListBackupsTarget {
	return &e
}
func (e *ListBackupsTarget) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "production":
		fallthrough
	case "development":
		*e = ListBackupsTarget(v)
		return nil
	default:
		return fmt.Errorf("invalid value for ListBackupsTarget: %v", v)
	}
}

type ListBackupsBackupPolicy struct {
	// The ID of the backup policy
	ID string `json:"id"`
	// The name of the backup policy
	Name string `json:"name"`
	// Whether the policy is for production or development branches
	Target ListBackupsTarget `json:"target"`
	// A number value for the retention period of the backup policy
	RetentionValue int64 `json:"retention_value"`
	// The unit for the retention period of the backup policy
	RetentionUnit string `json:"retention_unit"`
	// A number value for the frequency of the backup policy
	FrequencyValue int64 `json:"frequency_value"`
	// The unit for the frequency of the backup policy
	FrequencyUnit string `json:"frequency_unit"`
	// The time of day that the backup is scheduled, in HH:MM format
	ScheduleTime string `json:"schedule_time"`
	// Day of the week that the backup is scheduled. 0 is Sunday, 6 is Saturday
	ScheduleDay int64 `json:"schedule_day"`
	// Week of the month that the backup is scheduled. 0 is the first week, 3 is the fourth week
	ScheduleWeek int64 `json:"schedule_week"`
	// When the backup policy was created
	CreatedAt string `json:"created_at"`
	// When the backup policy was last updated
	UpdatedAt string `json:"updated_at"`
	// When the backup was last run
	LastRanAt string `json:"last_ran_at"`
	// When the backup will next run
	NextRunAt string `json:"next_run_at"`
	// Whether the policy is a required system backup
	Required bool `json:"required"`
}

func (l *ListBackupsBackupPolicy) GetID() string {
	if l == nil {
		return ""
	}
	return l.ID
}

func (l *ListBackupsBackupPolicy) GetName() string {
	if l == nil {
		return ""
	}
	return l.Name
}

func (l *ListBackupsBackupPolicy) GetTarget() ListBackupsTarget {
	if l == nil {
		return ListBackupsTarget("")
	}
	return l.Target
}

func (l *ListBackupsBackupPolicy) GetRetentionValue() int64 {
	if l == nil {
		return 0
	}
	return l.RetentionValue
}

func (l *ListBackupsBackupPolicy) GetRetentionUnit() string {
	if l == nil {
		return ""
	}
	return l.RetentionUnit
}

func (l *ListBackupsBackupPolicy) GetFrequencyValue() int64 {
	if l == nil {
		return 0
	}
	return l.FrequencyValue
}

func (l *ListBackupsBackupPolicy) GetFrequencyUnit() string {
	if l == nil {
		return ""
	}
	return l.FrequencyUnit
}

func (l *ListBackupsBackupPolicy) GetScheduleTime() string {
	if l == nil {
		return ""
	}
	return l.ScheduleTime
}

func (l *ListBackupsBackupPolicy) GetScheduleDay() int64 {
	if l == nil {
		return 0
	}
	return l.ScheduleDay
}

func (l *ListBackupsBackupPolicy) GetScheduleWeek() int64 {
	if l == nil {
		return 0
	}
	return l.ScheduleWeek
}

func (l *ListBackupsBackupPolicy) GetCreatedAt() string {
	if l == nil {
		return ""
	}
	return l.CreatedAt
}

func (l *ListBackupsBackupPolicy) GetUpdatedAt() string {
	if l == nil {
		return ""
	}
	return l.UpdatedAt
}

func (l *ListBackupsBackupPolicy) GetLastRanAt() string {
	if l == nil {
		return ""
	}
	return l.LastRanAt
}

func (l *ListBackupsBackupPolicy) GetNextRunAt() string {
	if l == nil {
		return ""
	}
	return l.NextRunAt
}

func (l *ListBackupsBackupPolicy) GetRequired() bool {
	if l == nil {
		return false
	}
	return l.Required
}

type ListBackupsSchemaSnapshot struct {
	// The ID of the schema snapshot
	ID string `json:"id"`
	// The name of the schema snapshot
	Name string `json:"name"`
	// When the schema snapshot was created
	CreatedAt string `json:"created_at"`
	// When the schema snapshot was last updated
	UpdatedAt string `json:"updated_at"`
	// When the schema snapshot was last linted
	LintedAt string `json:"linted_at"`
	// The URL to the schema snapshot in the PlanetScale app
	URL string `json:"url"`
}

func (l *ListBackupsSchemaSnapshot) GetID() string {
	if l == nil {
		return ""
	}
	return l.ID
}

func (l *ListBackupsSchemaSnapshot) GetName() string {
	if l == nil {
		return ""
	}
	return l.Name
}

func (l *ListBackupsSchemaSnapshot) GetCreatedAt() string {
	if l == nil {
		return ""
	}
	return l.CreatedAt
}

func (l *ListBackupsSchemaSnapshot) GetUpdatedAt() string {
	if l == nil {
		return ""
	}
	return l.UpdatedAt
}

func (l *ListBackupsSchemaSnapshot) GetLintedAt() string {
	if l == nil {
		return ""
	}
	return l.LintedAt
}

func (l *ListBackupsSchemaSnapshot) GetURL() string {
	if l == nil {
		return ""
	}
	return l.URL
}

type ListBackupsDatabaseBranch struct {
	// The ID for the resource
	ID string `json:"id"`
	// The name for the resource
	Name string `json:"name"`
	// When the resource was created
	CreatedAt string `json:"created_at"`
	// When the resource was last updated
	UpdatedAt string `json:"updated_at"`
	// When the resource was deleted, if deleted
	DeletedAt string `json:"deleted_at"`
}

func (l *ListBackupsDatabaseBranch) GetID() string {
	if l == nil {
		return ""
	}
	return l.ID
}

func (l *ListBackupsDatabaseBranch) GetName() string {
	if l == nil {
		return ""
	}
	return l.Name
}

func (l *ListBackupsDatabaseBranch) GetCreatedAt() string {
	if l == nil {
		return ""
	}
	return l.CreatedAt
}

func (l *ListBackupsDatabaseBranch) GetUpdatedAt() string {
	if l == nil {
		return ""
	}
	return l.UpdatedAt
}

func (l *ListBackupsDatabaseBranch) GetDeletedAt() string {
	if l == nil {
		return ""
	}
	return l.DeletedAt
}

type ListBackupsData struct {
	// The ID of the backup
	ID string `json:"id"`
	// The name of the backup
	Name string `json:"name"`
	// The current state of the backup
	State ListBackupsDataState `json:"state"`
	// The size of the backup in bytes
	Size int64 `json:"size"`
	// The estimated storage cost of the backup
	EstimatedStorageCost float64 `json:"estimated_storage_cost"`
	// When the backup was created
	CreatedAt string `json:"created_at"`
	// When the backup was last updated
	UpdatedAt string `json:"updated_at"`
	// When the backup started
	StartedAt string `json:"started_at"`
	// When the backup expires
	ExpiresAt string `json:"expires_at"`
	// When the backup completed
	CompletedAt string `json:"completed_at"`
	// When the backup was deleted
	DeletedAt string `json:"deleted_at"`
	// Size of the PVC used for the backup
	PvcSize int64 `json:"pvc_size"`
	// Whether or not the backup is protected from deletion
	Protected bool `json:"protected"`
	// Whether or not the backup policy is required
	Required         bool                        `json:"required"`
	RestoredBranches []ListBackupsRestoredBranch `json:"restored_branches"`
	Actor            ListBackupsActor            `json:"actor"`
	BackupPolicy     ListBackupsBackupPolicy     `json:"backup_policy"`
	SchemaSnapshot   ListBackupsSchemaSnapshot   `json:"schema_snapshot"`
	DatabaseBranch   ListBackupsDatabaseBranch   `json:"database_branch"`
}

func (l *ListBackupsData) GetID() string {
	if l == nil {
		return ""
	}
	return l.ID
}

func (l *ListBackupsData) GetName() string {
	if l == nil {
		return ""
	}
	return l.Name
}

func (l *ListBackupsData) GetState() ListBackupsDataState {
	if l == nil {
		return ListBackupsDataState("")
	}
	return l.State
}

func (l *ListBackupsData) GetSize() int64 {
	if l == nil {
		return 0
	}
	return l.Size
}

func (l *ListBackupsData) GetEstimatedStorageCost() float64 {
	if l == nil {
		return 0.0
	}
	return l.EstimatedStorageCost
}

func (l *ListBackupsData) GetCreatedAt() string {
	if l == nil {
		return ""
	}
	return l.CreatedAt
}

func (l *ListBackupsData) GetUpdatedAt() string {
	if l == nil {
		return ""
	}
	return l.UpdatedAt
}

func (l *ListBackupsData) GetStartedAt() string {
	if l == nil {
		return ""
	}
	return l.StartedAt
}

func (l *ListBackupsData) GetExpiresAt() string {
	if l == nil {
		return ""
	}
	return l.ExpiresAt
}

func (l *ListBackupsData) GetCompletedAt() string {
	if l == nil {
		return ""
	}
	return l.CompletedAt
}

func (l *ListBackupsData) GetDeletedAt() string {
	if l == nil {
		return ""
	}
	return l.DeletedAt
}

func (l *ListBackupsData) GetPvcSize() int64 {
	if l == nil {
		return 0
	}
	return l.PvcSize
}

func (l *ListBackupsData) GetProtected() bool {
	if l == nil {
		return false
	}
	return l.Protected
}

func (l *ListBackupsData) GetRequired() bool {
	if l == nil {
		return false
	}
	return l.Required
}

func (l *ListBackupsData) GetRestoredBranches() []ListBackupsRestoredBranch {
	if l == nil {
		return []ListBackupsRestoredBranch{}
	}
	return l.RestoredBranches
}

func (l *ListBackupsData) GetActor() ListBackupsActor {
	if l == nil {
		return ListBackupsActor{}
	}
	return l.Actor
}

func (l *ListBackupsData) GetBackupPolicy() ListBackupsBackupPolicy {
	if l == nil {
		return ListBackupsBackupPolicy{}
	}
	return l.BackupPolicy
}

func (l *ListBackupsData) GetSchemaSnapshot() ListBackupsSchemaSnapshot {
	if l == nil {
		return ListBackupsSchemaSnapshot{}
	}
	return l.SchemaSnapshot
}

func (l *ListBackupsData) GetDatabaseBranch() ListBackupsDatabaseBranch {
	if l == nil {
		return ListBackupsDatabaseBranch{}
	}
	return l.DatabaseBranch
}

// ListBackupsResponseBody - Returns database branch backups
type ListBackupsResponseBody struct {
	// The current page number
	CurrentPage int64 `json:"current_page"`
	// The next page number
	NextPage int64 `json:"next_page"`
	// The next page of results
	NextPageURL string `json:"next_page_url"`
	// The previous page number
	PrevPage int64 `json:"prev_page"`
	// The previous page of results
	PrevPageURL string            `json:"prev_page_url"`
	Data        []ListBackupsData `json:"data"`
}

func (l *ListBackupsResponseBody) GetCurrentPage() int64 {
	if l == nil {
		return 0
	}
	return l.CurrentPage
}

func (l *ListBackupsResponseBody) GetNextPage() int64 {
	if l == nil {
		return 0
	}
	return l.NextPage
}

func (l *ListBackupsResponseBody) GetNextPageURL() string {
	if l == nil {
		return ""
	}
	return l.NextPageURL
}

func (l *ListBackupsResponseBody) GetPrevPage() int64 {
	if l == nil {
		return 0
	}
	return l.PrevPage
}

func (l *ListBackupsResponseBody) GetPrevPageURL() string {
	if l == nil {
		return ""
	}
	return l.PrevPageURL
}

func (l *ListBackupsResponseBody) GetData() []ListBackupsData {
	if l == nil {
		return []ListBackupsData{}
	}
	return l.Data
}

type ListBackupsResponse struct {
	// HTTP response content type for this operation
	ContentType string
	// HTTP response status code for this operation
	StatusCode int
	// Raw HTTP response; suitable for custom response parsing
	RawResponse *http.Response
	// Returns database branch backups
	Object *ListBackupsResponseBody
}

func (l ListBackupsResponse) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(l, "", false)
}

func (l *ListBackupsResponse) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &l, "", false, []string{"ContentType", "StatusCode", "RawResponse"}); err != nil {
		return err
	}
	return nil
}

func (l *ListBackupsResponse) GetContentType() string {
	if l == nil {
		return ""
	}
	return l.ContentType
}

func (l *ListBackupsResponse) GetStatusCode() int {
	if l == nil {
		return 0
	}
	return l.StatusCode
}

func (l *ListBackupsResponse) GetRawResponse() *http.Response {
	if l == nil {
		return nil
	}
	return l.RawResponse
}

func (l *ListBackupsResponse) GetObject() *ListBackupsResponseBody {
	if l == nil {
		return nil
	}
	return l.Object
}
