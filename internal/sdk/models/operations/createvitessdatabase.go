// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package operations

import (
	"encoding/json"
	"fmt"
	"github.com/planetscale/terraform-provider-planetscale/internal/sdk/internal/utils"
	"github.com/planetscale/terraform-provider-planetscale/internal/sdk/types"
	"net/http"
)

type CreateVitessDatabaseRequestBody struct {
	// Name of the database
	Name string `json:"name"`
	// The region the database will be deployed in. If left blank, defaults to the organization's default region.
	Region *string `json:"region,omitzero"`
	// The database cluster size name (e.g., 'PS_10', 'PS_80'). Use the 'List available cluster sizes' endpoint to get available options for your organization.
	ClusterSize string `json:"cluster_size"`
	// The number of replicas for the database. 0 for non-HA, 2+ for HA.
	Replicas *float64 `json:"replicas,omitzero"`
	// The kind of database (always mysql for Vitess databases).
	kind *string `const:"mysql" json:"kind"`
}

func (c CreateVitessDatabaseRequestBody) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreateVitessDatabaseRequestBody) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, []string{"name", "cluster_size"}); err != nil {
		return err
	}
	return nil
}

func (c *CreateVitessDatabaseRequestBody) GetName() string {
	if c == nil {
		return ""
	}
	return c.Name
}

func (c *CreateVitessDatabaseRequestBody) GetRegion() *string {
	if c == nil {
		return nil
	}
	return c.Region
}

func (c *CreateVitessDatabaseRequestBody) GetClusterSize() string {
	if c == nil {
		return ""
	}
	return c.ClusterSize
}

func (c *CreateVitessDatabaseRequestBody) GetReplicas() *float64 {
	if c == nil {
		return nil
	}
	return c.Replicas
}

func (c *CreateVitessDatabaseRequestBody) GetKind() *string {
	return types.Pointer("mysql")
}

type CreateVitessDatabaseRequest struct {
	// The name of the organization the database belongs to
	Organization string                           `pathParam:"style=simple,explode=false,name=organization"`
	Body         *CreateVitessDatabaseRequestBody `request:"mediaType=application/json"`
}

func (c CreateVitessDatabaseRequest) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreateVitessDatabaseRequest) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, []string{"organization"}); err != nil {
		return err
	}
	return nil
}

func (c *CreateVitessDatabaseRequest) GetOrganization() string {
	if c == nil {
		return ""
	}
	return c.Organization
}

func (c *CreateVitessDatabaseRequest) GetBody() *CreateVitessDatabaseRequestBody {
	if c == nil {
		return nil
	}
	return c.Body
}

type CreateVitessDatabaseDataSource struct {
	// Hostname of the data source
	Hostname *string `json:"hostname,omitzero"`
	// Port of the data source
	Port *float64 `json:"port,omitzero"`
	// Database name of the data source
	Database *string `json:"database,omitzero"`
}

func (c *CreateVitessDatabaseDataSource) GetHostname() *string {
	if c == nil {
		return nil
	}
	return c.Hostname
}

func (c *CreateVitessDatabaseDataSource) GetPort() *float64 {
	if c == nil {
		return nil
	}
	return c.Port
}

func (c *CreateVitessDatabaseDataSource) GetDatabase() *string {
	if c == nil {
		return nil
	}
	return c.Database
}

type CreateVitessDatabaseDataImport struct {
	// State of the data import
	State *string `json:"state,omitzero"`
	// Errors encountered during the import check
	ImportCheckErrors *string `json:"import_check_errors,omitzero"`
	// When the import started
	StartedAt *string `json:"started_at,omitzero"`
	// When the import finished
	FinishedAt *string                         `json:"finished_at,omitzero"`
	DataSource *CreateVitessDatabaseDataSource `json:"data_source,omitzero"`
}

func (c CreateVitessDatabaseDataImport) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreateVitessDatabaseDataImport) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (c *CreateVitessDatabaseDataImport) GetState() *string {
	if c == nil {
		return nil
	}
	return c.State
}

func (c *CreateVitessDatabaseDataImport) GetImportCheckErrors() *string {
	if c == nil {
		return nil
	}
	return c.ImportCheckErrors
}

func (c *CreateVitessDatabaseDataImport) GetStartedAt() *string {
	if c == nil {
		return nil
	}
	return c.StartedAt
}

func (c *CreateVitessDatabaseDataImport) GetFinishedAt() *string {
	if c == nil {
		return nil
	}
	return c.FinishedAt
}

func (c *CreateVitessDatabaseDataImport) GetDataSource() *CreateVitessDatabaseDataSource {
	if c == nil {
		return nil
	}
	return c.DataSource
}

type CreateVitessDatabaseRegionData struct {
	// The ID of the region
	ID *string `json:"id,omitzero"`
	// Provider for the region (ex. AWS)
	Provider *string `json:"provider,omitzero"`
	// Whether or not the region is currently active
	Enabled *bool `json:"enabled,omitzero"`
	// Public IP addresses for the region
	PublicIPAddresses []string `json:"public_ip_addresses,omitzero"`
	// Name of the region
	DisplayName *string `json:"display_name,omitzero"`
	// Location of the region
	Location *string `json:"location,omitzero"`
	// The slug of the region
	Slug *string `json:"slug,omitzero"`
	// True if the region is the default for new branch creation
	CurrentDefault *bool `json:"current_default,omitzero"`
}

func (c CreateVitessDatabaseRegionData) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreateVitessDatabaseRegionData) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (c *CreateVitessDatabaseRegionData) GetID() *string {
	if c == nil {
		return nil
	}
	return c.ID
}

func (c *CreateVitessDatabaseRegionData) GetProvider() *string {
	if c == nil {
		return nil
	}
	return c.Provider
}

func (c *CreateVitessDatabaseRegionData) GetEnabled() *bool {
	if c == nil {
		return nil
	}
	return c.Enabled
}

func (c *CreateVitessDatabaseRegionData) GetPublicIPAddresses() []string {
	if c == nil {
		return nil
	}
	return c.PublicIPAddresses
}

func (c *CreateVitessDatabaseRegionData) GetDisplayName() *string {
	if c == nil {
		return nil
	}
	return c.DisplayName
}

func (c *CreateVitessDatabaseRegionData) GetLocation() *string {
	if c == nil {
		return nil
	}
	return c.Location
}

func (c *CreateVitessDatabaseRegionData) GetSlug() *string {
	if c == nil {
		return nil
	}
	return c.Slug
}

func (c *CreateVitessDatabaseRegionData) GetCurrentDefault() *bool {
	if c == nil {
		return nil
	}
	return c.CurrentDefault
}

// CreateVitessDatabaseState - State of the database
type CreateVitessDatabaseState string

const (
	CreateVitessDatabaseStatePending         CreateVitessDatabaseState = "pending"
	CreateVitessDatabaseStateImporting       CreateVitessDatabaseState = "importing"
	CreateVitessDatabaseStateSleepInProgress CreateVitessDatabaseState = "sleep_in_progress"
	CreateVitessDatabaseStateSleeping        CreateVitessDatabaseState = "sleeping"
	CreateVitessDatabaseStateAwakening       CreateVitessDatabaseState = "awakening"
	CreateVitessDatabaseStateImportReady     CreateVitessDatabaseState = "import_ready"
	CreateVitessDatabaseStateReady           CreateVitessDatabaseState = "ready"
)

func (e CreateVitessDatabaseState) ToPointer() *CreateVitessDatabaseState {
	return &e
}
func (e *CreateVitessDatabaseState) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "pending":
		fallthrough
	case "importing":
		fallthrough
	case "sleep_in_progress":
		fallthrough
	case "sleeping":
		fallthrough
	case "awakening":
		fallthrough
	case "import_ready":
		fallthrough
	case "ready":
		*e = CreateVitessDatabaseState(v)
		return nil
	default:
		return fmt.Errorf("invalid value for CreateVitessDatabaseState: %v", v)
	}
}

// CreateVitessDatabaseResponseBody - Returns the created database
type CreateVitessDatabaseResponseBody struct {
	// The ID of the database
	ID *string `json:"id,omitzero"`
	// The URL to the database API endpoint
	URL *string `json:"url,omitzero"`
	// The URL to retrieve this database's branches via the API
	BranchesURL *string `json:"branches_url,omitzero"`
	// The total number of database branches
	BranchesCount *float64 `json:"branches_count,omitzero"`
	// The total number of schema recommendations
	OpenSchemaRecommendationsCount *float64 `json:"open_schema_recommendations_count,omitzero"`
	// The total number of database development branches
	DevelopmentBranchesCount *float64 `json:"development_branches_count,omitzero"`
	// The total number of database production branches
	ProductionBranchesCount *float64 `json:"production_branches_count,omitzero"`
	// The total number of ongoing issues within a database
	IssuesCount *float64 `json:"issues_count,omitzero"`
	// If the database requires multiple admins for deletion
	MultipleAdminsRequiredForDeletion *bool `json:"multiple_admins_required_for_deletion,omitzero"`
	// If the database is ready to be used
	Ready *bool `json:"ready,omitzero"`
	// If the database has reached its backup restored branch limit
	AtBackupRestoreBranchesLimit *bool `json:"at_backup_restore_branches_limit,omitzero"`
	// If the database has reached its development branch limit
	AtDevelopmentBranchUsageLimit *bool                           `json:"at_development_branch_usage_limit,omitzero"`
	DataImport                    *CreateVitessDatabaseDataImport `json:"data_import,omitzero"`
	RegionData                    *CreateVitessDatabaseRegionData `json:"region,omitzero"`
	// The URL to see this database's branches in the web UI
	HTMLURL *string `json:"html_url,omitzero"`
	// Name of the database
	Name *string `json:"name,omitzero"`
	// State of the database
	State *CreateVitessDatabaseState `json:"state,omitzero"`
	// If the database is sharded
	Sharded *bool `json:"sharded,omitzero"`
	// Number of shards in the default branch
	DefaultBranchShardCount *float64 `json:"default_branch_shard_count,omitzero"`
	// Number of read only regions in the default branch
	DefaultBranchReadOnlyRegionsCount *float64 `json:"default_branch_read_only_regions_count,omitzero"`
	// Number of tables in the default branch schema
	DefaultBranchTableCount *float64 `json:"default_branch_table_count,omitzero"`
	// The default branch for the database
	DefaultBranch *string `json:"default_branch,omitzero"`
	// Whether an approval is required to deploy schema changes to this database
	RequireApprovalForDeploy *bool `json:"require_approval_for_deploy,omitzero"`
	// True if a branch is currently resizing
	Resizing *bool `json:"resizing,omitzero"`
	// True if a branch has a queued resize request
	ResizeQueued *bool `json:"resize_queued,omitzero"`
	// Whether seeding branches with data is enabled for all branches
	AllowDataBranching *bool `json:"allow_data_branching,omitzero"`
	// Whether foreign key constraints are enabled
	ForeignKeysEnabled *bool `json:"foreign_keys_enabled,omitzero"`
	// Whether to automatically manage Rails migrations during deploy requests
	AutomaticMigrations *bool `json:"automatic_migrations,omitzero"`
	// Whether to restrict branch creation to one region
	RestrictBranchRegion *bool `json:"restrict_branch_region,omitzero"`
	// Whether raw SQL queries are collected
	InsightsRawQueries *bool `json:"insights_raw_queries,omitzero"`
	// The database plan
	Plan *string `json:"plan,omitzero"`
	// True if query insights is enabled for the database
	InsightsEnabled *bool `json:"insights_enabled,omitzero"`
	// Whether web console is enabled for production branches
	ProductionBranchWebConsole *bool `json:"production_branch_web_console,omitzero"`
	// Table name to use for copying schema migration data
	MigrationTableName *string `json:"migration_table_name,omitzero"`
	// Framework used for applying migrations
	MigrationFramework *string `json:"migration_framework,omitzero"`
	// When the database was created
	CreatedAt *string `json:"created_at,omitzero"`
	// When the database was last updated
	UpdatedAt *string `json:"updated_at,omitzero"`
	// When the default branch schema was last changed.
	SchemaLastUpdatedAt *string `json:"schema_last_updated_at,omitzero"`
	// The kind of database
	kind *string `const:"mysql" json:"kind,omitzero"`
}

func (c CreateVitessDatabaseResponseBody) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreateVitessDatabaseResponseBody) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (c *CreateVitessDatabaseResponseBody) GetID() *string {
	if c == nil {
		return nil
	}
	return c.ID
}

func (c *CreateVitessDatabaseResponseBody) GetURL() *string {
	if c == nil {
		return nil
	}
	return c.URL
}

func (c *CreateVitessDatabaseResponseBody) GetBranchesURL() *string {
	if c == nil {
		return nil
	}
	return c.BranchesURL
}

func (c *CreateVitessDatabaseResponseBody) GetBranchesCount() *float64 {
	if c == nil {
		return nil
	}
	return c.BranchesCount
}

func (c *CreateVitessDatabaseResponseBody) GetOpenSchemaRecommendationsCount() *float64 {
	if c == nil {
		return nil
	}
	return c.OpenSchemaRecommendationsCount
}

func (c *CreateVitessDatabaseResponseBody) GetDevelopmentBranchesCount() *float64 {
	if c == nil {
		return nil
	}
	return c.DevelopmentBranchesCount
}

func (c *CreateVitessDatabaseResponseBody) GetProductionBranchesCount() *float64 {
	if c == nil {
		return nil
	}
	return c.ProductionBranchesCount
}

func (c *CreateVitessDatabaseResponseBody) GetIssuesCount() *float64 {
	if c == nil {
		return nil
	}
	return c.IssuesCount
}

func (c *CreateVitessDatabaseResponseBody) GetMultipleAdminsRequiredForDeletion() *bool {
	if c == nil {
		return nil
	}
	return c.MultipleAdminsRequiredForDeletion
}

func (c *CreateVitessDatabaseResponseBody) GetReady() *bool {
	if c == nil {
		return nil
	}
	return c.Ready
}

func (c *CreateVitessDatabaseResponseBody) GetAtBackupRestoreBranchesLimit() *bool {
	if c == nil {
		return nil
	}
	return c.AtBackupRestoreBranchesLimit
}

func (c *CreateVitessDatabaseResponseBody) GetAtDevelopmentBranchUsageLimit() *bool {
	if c == nil {
		return nil
	}
	return c.AtDevelopmentBranchUsageLimit
}

func (c *CreateVitessDatabaseResponseBody) GetDataImport() *CreateVitessDatabaseDataImport {
	if c == nil {
		return nil
	}
	return c.DataImport
}

func (c *CreateVitessDatabaseResponseBody) GetRegionData() *CreateVitessDatabaseRegionData {
	if c == nil {
		return nil
	}
	return c.RegionData
}

func (c *CreateVitessDatabaseResponseBody) GetHTMLURL() *string {
	if c == nil {
		return nil
	}
	return c.HTMLURL
}

func (c *CreateVitessDatabaseResponseBody) GetName() *string {
	if c == nil {
		return nil
	}
	return c.Name
}

func (c *CreateVitessDatabaseResponseBody) GetState() *CreateVitessDatabaseState {
	if c == nil {
		return nil
	}
	return c.State
}

func (c *CreateVitessDatabaseResponseBody) GetSharded() *bool {
	if c == nil {
		return nil
	}
	return c.Sharded
}

func (c *CreateVitessDatabaseResponseBody) GetDefaultBranchShardCount() *float64 {
	if c == nil {
		return nil
	}
	return c.DefaultBranchShardCount
}

func (c *CreateVitessDatabaseResponseBody) GetDefaultBranchReadOnlyRegionsCount() *float64 {
	if c == nil {
		return nil
	}
	return c.DefaultBranchReadOnlyRegionsCount
}

func (c *CreateVitessDatabaseResponseBody) GetDefaultBranchTableCount() *float64 {
	if c == nil {
		return nil
	}
	return c.DefaultBranchTableCount
}

func (c *CreateVitessDatabaseResponseBody) GetDefaultBranch() *string {
	if c == nil {
		return nil
	}
	return c.DefaultBranch
}

func (c *CreateVitessDatabaseResponseBody) GetRequireApprovalForDeploy() *bool {
	if c == nil {
		return nil
	}
	return c.RequireApprovalForDeploy
}

func (c *CreateVitessDatabaseResponseBody) GetResizing() *bool {
	if c == nil {
		return nil
	}
	return c.Resizing
}

func (c *CreateVitessDatabaseResponseBody) GetResizeQueued() *bool {
	if c == nil {
		return nil
	}
	return c.ResizeQueued
}

func (c *CreateVitessDatabaseResponseBody) GetAllowDataBranching() *bool {
	if c == nil {
		return nil
	}
	return c.AllowDataBranching
}

func (c *CreateVitessDatabaseResponseBody) GetForeignKeysEnabled() *bool {
	if c == nil {
		return nil
	}
	return c.ForeignKeysEnabled
}

func (c *CreateVitessDatabaseResponseBody) GetAutomaticMigrations() *bool {
	if c == nil {
		return nil
	}
	return c.AutomaticMigrations
}

func (c *CreateVitessDatabaseResponseBody) GetRestrictBranchRegion() *bool {
	if c == nil {
		return nil
	}
	return c.RestrictBranchRegion
}

func (c *CreateVitessDatabaseResponseBody) GetInsightsRawQueries() *bool {
	if c == nil {
		return nil
	}
	return c.InsightsRawQueries
}

func (c *CreateVitessDatabaseResponseBody) GetPlan() *string {
	if c == nil {
		return nil
	}
	return c.Plan
}

func (c *CreateVitessDatabaseResponseBody) GetInsightsEnabled() *bool {
	if c == nil {
		return nil
	}
	return c.InsightsEnabled
}

func (c *CreateVitessDatabaseResponseBody) GetProductionBranchWebConsole() *bool {
	if c == nil {
		return nil
	}
	return c.ProductionBranchWebConsole
}

func (c *CreateVitessDatabaseResponseBody) GetMigrationTableName() *string {
	if c == nil {
		return nil
	}
	return c.MigrationTableName
}

func (c *CreateVitessDatabaseResponseBody) GetMigrationFramework() *string {
	if c == nil {
		return nil
	}
	return c.MigrationFramework
}

func (c *CreateVitessDatabaseResponseBody) GetCreatedAt() *string {
	if c == nil {
		return nil
	}
	return c.CreatedAt
}

func (c *CreateVitessDatabaseResponseBody) GetUpdatedAt() *string {
	if c == nil {
		return nil
	}
	return c.UpdatedAt
}

func (c *CreateVitessDatabaseResponseBody) GetSchemaLastUpdatedAt() *string {
	if c == nil {
		return nil
	}
	return c.SchemaLastUpdatedAt
}

func (c *CreateVitessDatabaseResponseBody) GetKind() *string {
	return types.Pointer("mysql")
}

type CreateVitessDatabaseResponse struct {
	// HTTP response content type for this operation
	ContentType string
	// HTTP response status code for this operation
	StatusCode int
	// Raw HTTP response; suitable for custom response parsing
	RawResponse *http.Response
	// Returns the created database
	Object *CreateVitessDatabaseResponseBody
}

func (c CreateVitessDatabaseResponse) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *CreateVitessDatabaseResponse) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, []string{"ContentType", "StatusCode", "RawResponse"}); err != nil {
		return err
	}
	return nil
}

func (c *CreateVitessDatabaseResponse) GetContentType() string {
	if c == nil {
		return ""
	}
	return c.ContentType
}

func (c *CreateVitessDatabaseResponse) GetStatusCode() int {
	if c == nil {
		return 0
	}
	return c.StatusCode
}

func (c *CreateVitessDatabaseResponse) GetRawResponse() *http.Response {
	if c == nil {
		return nil
	}
	return c.RawResponse
}

func (c *CreateVitessDatabaseResponse) GetObject() *CreateVitessDatabaseResponseBody {
	if c == nil {
		return nil
	}
	return c.Object
}
