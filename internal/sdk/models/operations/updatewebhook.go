// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package operations

import (
	"encoding/json"
	"fmt"
	"github.com/planetscale/terraform-provider-planetscale/internal/sdk/internal/utils"
	"net/http"
)

type UpdateWebhookRequestBody struct {
	// The URL the webhook will send events to
	URL *string `json:"url,omitzero"`
	// Whether the webhook should be enabled
	Enabled *bool `json:"enabled,omitzero"`
	// The events this webhook should subscribe to
	Events []string `json:"events,omitzero"`
}

func (u UpdateWebhookRequestBody) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(u, "", false)
}

func (u *UpdateWebhookRequestBody) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &u, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (u *UpdateWebhookRequestBody) GetURL() *string {
	if u == nil {
		return nil
	}
	return u.URL
}

func (u *UpdateWebhookRequestBody) GetEnabled() *bool {
	if u == nil {
		return nil
	}
	return u.Enabled
}

func (u *UpdateWebhookRequestBody) GetEvents() []string {
	if u == nil {
		return nil
	}
	return u.Events
}

type UpdateWebhookRequest struct {
	// The name of the organization
	Organization string `pathParam:"style=simple,explode=false,name=organization"`
	// The name of the database
	Database string `pathParam:"style=simple,explode=false,name=database"`
	// The ID of the webhook
	ID   string                    `pathParam:"style=simple,explode=false,name=id"`
	Body *UpdateWebhookRequestBody `request:"mediaType=application/json"`
}

func (u UpdateWebhookRequest) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(u, "", false)
}

func (u *UpdateWebhookRequest) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &u, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (u *UpdateWebhookRequest) GetOrganization() string {
	if u == nil {
		return ""
	}
	return u.Organization
}

func (u *UpdateWebhookRequest) GetDatabase() string {
	if u == nil {
		return ""
	}
	return u.Database
}

func (u *UpdateWebhookRequest) GetID() string {
	if u == nil {
		return ""
	}
	return u.ID
}

func (u *UpdateWebhookRequest) GetBody() *UpdateWebhookRequestBody {
	if u == nil {
		return nil
	}
	return u.Body
}

type UpdateWebhookEvent string

const (
	UpdateWebhookEventBranchReady                 UpdateWebhookEvent = "branch.ready"
	UpdateWebhookEventBranchAnomaly               UpdateWebhookEvent = "branch.anomaly"
	UpdateWebhookEventBranchPrimaryPromoted       UpdateWebhookEvent = "branch.primary_promoted"
	UpdateWebhookEventBranchSchemaRecommendation  UpdateWebhookEvent = "branch.schema_recommendation"
	UpdateWebhookEventBranchSleeping              UpdateWebhookEvent = "branch.sleeping"
	UpdateWebhookEventBranchStartMaintenance      UpdateWebhookEvent = "branch.start_maintenance"
	UpdateWebhookEventClusterStorage              UpdateWebhookEvent = "cluster.storage"
	UpdateWebhookEventDatabaseAccessRequest       UpdateWebhookEvent = "database.access_request"
	UpdateWebhookEventDeployRequestClosed         UpdateWebhookEvent = "deploy_request.closed"
	UpdateWebhookEventDeployRequestErrored        UpdateWebhookEvent = "deploy_request.errored"
	UpdateWebhookEventDeployRequestInProgress     UpdateWebhookEvent = "deploy_request.in_progress"
	UpdateWebhookEventDeployRequestOpened         UpdateWebhookEvent = "deploy_request.opened"
	UpdateWebhookEventDeployRequestPendingCutover UpdateWebhookEvent = "deploy_request.pending_cutover"
	UpdateWebhookEventDeployRequestQueued         UpdateWebhookEvent = "deploy_request.queued"
	UpdateWebhookEventDeployRequestReverted       UpdateWebhookEvent = "deploy_request.reverted"
	UpdateWebhookEventDeployRequestSchemaApplied  UpdateWebhookEvent = "deploy_request.schema_applied"
	UpdateWebhookEventKeyspaceStorage             UpdateWebhookEvent = "keyspace.storage"
	UpdateWebhookEventWebhookTest                 UpdateWebhookEvent = "webhook.test"
)

func (e UpdateWebhookEvent) ToPointer() *UpdateWebhookEvent {
	return &e
}
func (e *UpdateWebhookEvent) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "branch.ready":
		fallthrough
	case "branch.anomaly":
		fallthrough
	case "branch.primary_promoted":
		fallthrough
	case "branch.schema_recommendation":
		fallthrough
	case "branch.sleeping":
		fallthrough
	case "branch.start_maintenance":
		fallthrough
	case "cluster.storage":
		fallthrough
	case "database.access_request":
		fallthrough
	case "deploy_request.closed":
		fallthrough
	case "deploy_request.errored":
		fallthrough
	case "deploy_request.in_progress":
		fallthrough
	case "deploy_request.opened":
		fallthrough
	case "deploy_request.pending_cutover":
		fallthrough
	case "deploy_request.queued":
		fallthrough
	case "deploy_request.reverted":
		fallthrough
	case "deploy_request.schema_applied":
		fallthrough
	case "keyspace.storage":
		fallthrough
	case "webhook.test":
		*e = UpdateWebhookEvent(v)
		return nil
	default:
		return fmt.Errorf("invalid value for UpdateWebhookEvent: %v", v)
	}
}

// UpdateWebhookResponseBody - Returns the updated webhook
type UpdateWebhookResponseBody struct {
	// The ID of the webhook
	ID string `json:"id"`
	// The URL the webhook will send events to
	URL string `json:"url"`
	// The secret used to sign the webhook payloads
	Secret string `json:"secret"`
	// Whether the webhook is enabled
	Enabled bool `json:"enabled"`
	// The last result sent by the webhook
	LastSentResult string `json:"last_sent_result"`
	// Whether the last sent was successful
	LastSentSuccess bool `json:"last_sent_success"`
	// When the last event was sent
	LastSentAt string `json:"last_sent_at"`
	// When the webhook was created
	CreatedAt string `json:"created_at"`
	// When the webhook was updated
	UpdatedAt string `json:"updated_at"`
	// The events this webhook subscribes to
	Events []UpdateWebhookEvent `json:"events"`
}

func (u *UpdateWebhookResponseBody) GetID() string {
	if u == nil {
		return ""
	}
	return u.ID
}

func (u *UpdateWebhookResponseBody) GetURL() string {
	if u == nil {
		return ""
	}
	return u.URL
}

func (u *UpdateWebhookResponseBody) GetSecret() string {
	if u == nil {
		return ""
	}
	return u.Secret
}

func (u *UpdateWebhookResponseBody) GetEnabled() bool {
	if u == nil {
		return false
	}
	return u.Enabled
}

func (u *UpdateWebhookResponseBody) GetLastSentResult() string {
	if u == nil {
		return ""
	}
	return u.LastSentResult
}

func (u *UpdateWebhookResponseBody) GetLastSentSuccess() bool {
	if u == nil {
		return false
	}
	return u.LastSentSuccess
}

func (u *UpdateWebhookResponseBody) GetLastSentAt() string {
	if u == nil {
		return ""
	}
	return u.LastSentAt
}

func (u *UpdateWebhookResponseBody) GetCreatedAt() string {
	if u == nil {
		return ""
	}
	return u.CreatedAt
}

func (u *UpdateWebhookResponseBody) GetUpdatedAt() string {
	if u == nil {
		return ""
	}
	return u.UpdatedAt
}

func (u *UpdateWebhookResponseBody) GetEvents() []UpdateWebhookEvent {
	if u == nil {
		return []UpdateWebhookEvent{}
	}
	return u.Events
}

type UpdateWebhookResponse struct {
	// HTTP response content type for this operation
	ContentType string
	// HTTP response status code for this operation
	StatusCode int
	// Raw HTTP response; suitable for custom response parsing
	RawResponse *http.Response
	// Returns the updated webhook
	Object *UpdateWebhookResponseBody
}

func (u UpdateWebhookResponse) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(u, "", false)
}

func (u *UpdateWebhookResponse) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &u, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (u *UpdateWebhookResponse) GetContentType() string {
	if u == nil {
		return ""
	}
	return u.ContentType
}

func (u *UpdateWebhookResponse) GetStatusCode() int {
	if u == nil {
		return 0
	}
	return u.StatusCode
}

func (u *UpdateWebhookResponse) GetRawResponse() *http.Response {
	if u == nil {
		return nil
	}
	return u.RawResponse
}

func (u *UpdateWebhookResponse) GetObject() *UpdateWebhookResponseBody {
	if u == nil {
		return nil
	}
	return u.Object
}
